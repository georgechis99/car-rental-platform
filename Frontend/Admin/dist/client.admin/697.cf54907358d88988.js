"use strict";(self.webpackChunkCLIENT_Admin=self.webpackChunkCLIENT_Admin||[]).push([[697],{7697:(ip,Pn,g)=>{g.r(Pn),g.d(Pn,{DashboardModule:()=>Qu});var f=g(6895),Se=g(8616),t=g(4650),pt=g(9751),Bn=g(515),$e=g(9646),B=g(7579),U=g(4968),Vt=g(5963),Je=g(8421);const{isArray:Oa}=Array;function Ln(n){return 1===n.length&&Oa(n[0])?n[0]:n}var Qe=g(5403);var ue=g(1135),Zt=(g(9841),g(5032));new pt.y(Zt.Z);var Gn=g(3269);function mt(...n){const a=(0,Gn.jO)(n),e=Ln(n);return e.length?new pt.y(i=>{let o=e.map(()=>[]),r=e.map(()=>!1);i.add(()=>{o=r=null});for(let s=0;!i.closed&&s<e.length;s++)(0,Je.Xf)(e[s]).subscribe((0,Qe.x)(i,l=>{if(o[s].push(l),o.every(d=>d.length)){const d=o.map(c=>c.shift());i.next(a?a(...d):d),o.some((c,u)=>!c.length&&r[u])&&i.complete()}},()=>{r[s]=!0,!o[s].length&&i.complete()}));return()=>{o=r=null}}):Bn.E}g(6451);var Hn=g(7272),E=g(2722),de=g(9300),q=g(5698),re=g(4004),Ie=g(8675),jn=(g(1884),g(3900)),Un=g(8505),qn=g(4482),Fa=g(4671);function Gt(...n){const a=(0,Gn.jO)(n);return(0,qn.e)((e,i)=>{const o=n.length,r=new Array(o);let s=n.map(()=>!1),l=!1;for(let d=0;d<o;d++)(0,Je.Xf)(n[d]).subscribe((0,Qe.x)(i,c=>{r[d]=c,!l&&!s[d]&&(s[d]=!0,(l=s.every(Fa.y))&&(s=null))},Zt.Z));e.subscribe((0,Qe.x)(i,d=>{if(l){const c=[d,...r];i.next(a?a(...c):c)}}))})}g(4986),g(9718),g(5577),g(5684);var p=g(4006);Math,Math,Math;const bt=["*"],Ir=["dialog"];function it(n){return"string"==typeof n}function ve(n){return null!=n}function Le(n){return(n||document.body).getBoundingClientRect()}const hi={animation:!0,transitionTimerDelayMs:5},Zs=()=>{},{transitionTimerDelayMs:Ys}=hi,at=new Map,H=(n,a,e,i)=>{let o=i.context||{};const r=at.get(a);if(r)switch(i.runningTransition){case"continue":return Bn.E;case"stop":n.run(()=>r.transition$.complete()),o=Object.assign(r.context,o),at.delete(a)}const s=e(a,i.animation,o)||Zs;if(!i.animation||"none"===window.getComputedStyle(a).transitionProperty)return n.run(()=>s()),(0,$e.of)(void 0).pipe(function Ls(n){return a=>new pt.y(e=>a.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const l=new B.x,d=new B.x,c=l.pipe(function Ra(...n){return a=>(0,Hn.z)(a,(0,$e.of)(...n))}(!0));at.set(a,{transition$:l,complete:()=>{d.next(),d.complete()},context:o});const u=function Vs(n){const{transitionDelay:a,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(a)+parseFloat(e))}(a);return n.runOutsideAngular(()=>{const m=(0,U.R)(a,"transitionend").pipe((0,E.R)(c),(0,de.h)(({target:_})=>_===a));(function Vn(...n){return 1===(n=Ln(n)).length?(0,Je.Xf)(n[0]):new pt.y(function Sa(n){return a=>{let e=[];for(let i=0;e&&!a.closed&&i<n.length;i++)e.push((0,Je.Xf)(n[i]).subscribe((0,Qe.x)(a,o=>{if(e){for(let r=0;r<e.length;r++)r!==i&&e[r].unsubscribe();e=null}a.next(o)})))}}(n))})((0,Vt.H)(u+Ys).pipe((0,E.R)(c)),m,d).pipe((0,E.R)(c)).subscribe(()=>{at.delete(a),n.run(()=>{s(),l.next(),l.complete()})})}),l.asObservable()};let Ve=(()=>{class n{constructor(){this.animation=hi.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=(()=>{return(n=C||(C={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",C;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Mi=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ti(n){const a=Array.from(n.querySelectorAll(Mi)).filter(e=>-1!==e.tabIndex);return[a[0],a[a.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Ce{constructor(a,e,i){this.nodes=a,this.viewRef=e,this.componentRef=i}}let Ql=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,q.q)(1)).subscribe(()=>{H(this._zone,this._el.nativeElement,(e,i)=>{i&&Le(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return H(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(t.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),t.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class pn{close(a){}dismiss(a){}}class Wl{constructor(a,e,i,o){this._windowCmptRef=a,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new B.x,this._dismissed=new B.x,this._hidden=new B.x,a.instance.dismissEvent.subscribe(r=>{this.dismiss(r)}),this.result=new Promise((r,s)=>{this._resolve=r,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,E.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,E.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(a){this._windowCmptRef&&(this._closed.next(a),this._resolve(a),this._removeModalElements())}_dismiss(a){this._dismissed.next(a),this._reject(a),this._removeModalElements()}dismiss(a){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function ui(n){return n&&n.then}(e)?!1!==e&&this._dismiss(a):e.then(i=>{!1!==i&&this._dismiss(a)},()=>{})}else this._dismiss(a)}_removeModalElements(){const a=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,$e.of)(void 0);a.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mt(a,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var lt=(()=>{return(n=lt||(lt={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",lt;var n})();let Kl=(()=>{class n{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new B.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new B.x,this.hidden=new B.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":it(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,q.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=mt(H(this._zone,e,()=>e.classList.remove("show"),i),H(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};mt(H(this._zone,this._elRef.nativeElement,(r,s)=>{s&&Le(r),r.classList.add("show")},e),H(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,U.R)(e,"keydown").pipe((0,E.R)(this._closed$),(0,de.h)(o=>o.which===C.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(lt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;(0,U.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,E.R)(this._closed$),(0,Un.b)(()=>i=!1),(0,jn.w)(()=>(0,U.R)(e,"mouseup").pipe((0,E.R)(this._closed$),(0,q.q)(1))),(0,de.h)(({target:o})=>e===o)).subscribe(()=>{i=!0}),(0,U.R)(e,"click").pipe((0,E.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(lt.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=Ti(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&H(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.K0),t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ir,7),2&e){let o;t.iGM(o=t.CRH())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(t.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),t.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),t.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:bt,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&e&&t.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Xl=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:r,paddingRight:s}=o;if(e>0){const l=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${l+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=s),o.overflow=r}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(f.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ed=(()=>{class n{constructor(e,i,o,r,s,l){this._applicationRef=e,this._injector=i,this._document=o,this._scrollBar=r,this._rendererFactory=s,this._ngZone=l,this._activeWindowCmptHasChanged=new B.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((n,a,e,i=!1)=>{n.runOutsideAngular(()=>{const o=(0,U.R)(a,"focusin").pipe((0,E.R)(e),(0,re.U)(r=>r.target));(0,U.R)(a,"keydown").pipe((0,E.R)(e),(0,de.h)(r=>r.which===C.Tab),Gt(o)).subscribe(([r,s])=>{const[l,d]=Ti(a);(s===l||s===a)&&r.shiftKey&&(d.focus(),r.preventDefault()),s===d&&!r.shiftKey&&(l.focus(),r.preventDefault())}),i&&(0,U.R)(a,"click").pipe((0,E.R)(e),Gt(o),(0,re.U)(r=>r[1])).subscribe(r=>r.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const r=o.container instanceof HTMLElement?o.container:ve(o.container)?this._document.querySelector(o.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!r)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new pn,d=this._getContentRef(o.injector||e,i,l,o);let c=!1!==o.backdrop?this._attachBackdrop(r):void 0,u=this._attachWindowComponent(r,d.nodes),m=new Wl(u,d,c,o.beforeDismiss);return this._registerModalRef(m),this._registerWindowCmpt(u),m.hidden.pipe((0,q.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=h=>{m.close(h)},l.dismiss=h=>{m.dismiss(h)},this._applyWindowOptions(u.instance,o),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),c&&c.instance&&(this._applyBackdropOptions(c.instance,o),c.changeDetectorRef.detectChanges()),u.changeDetectorRef.detectChanges(),m}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,t.LMc)(Ql,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,t.LMc)(Kl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(o=>{ve(i[o])&&(e[o]=i[o])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(o=>{ve(i[o])&&(e[o]=i[o])})}_getContentRef(e,i,o,r){return i?i instanceof t.Rgc?this._createFromTemplateRef(i,o):it(i)?this._createFromString(i):this._createFromComponent(e,i,o,r):new Ce([])}_createFromTemplateRef(e,i){const r=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(r),new Ce([r.rootNodes],r)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ce([[i]])}_createFromComponent(e,i,o,r){const s=t.zs3.create({providers:[{provide:pn,useValue:o}],parent:e}),l=(0,t.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:s}),d=l.location.nativeElement;return r.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ce([[d]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(f.K0),t.LFG(Xl),t.LFG(t.FYo),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),td=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ve))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nd=(()=>{class n{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3),t.LFG(ed),t.LFG(td))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();new t.OlP("live announcer delay",{providedIn:"root",factory:function Vd(){return 100}});let Yd=(()=>{class n{constructor(e){this.activeModal=e}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pn))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:11,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","shadow-none",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.dismiss()}),t.qZA()(),t.TgZ(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return i.accept()}),t._uU(8),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return i.decline()}),t._uU(10),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(i.title),t.xp6(3),t.hij("",i.message," xxx"),t.xp6(3),t.hij(" ",i.btnOkText," "),t.xp6(2),t.hij(" ",i.btnCancelText," "))},encapsulation:2}),n})(),oa=(()=>{class n{constructor(e){this.modalService=e}confirm(e,i,o="OK",r="Cancel",s="sm"){const l=this.modalService.open(Yd,{size:s});return l.componentInstance.title=e,l.componentInstance.message=i,l.componentInstance.btnOkText=o,l.componentInstance.btnCancelText=r,l.result}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(nd))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var He=g(529),Gd=g(2340);let he=(()=>{class n{constructor(e,i){this.http=e,this.router=i,this.baseUrl=Gd.N.adminUrl,this.bookings=[],this.bookingsSubject=new ue.X(this.bookings)}getBookings(){return this.bookingsSubject.asObservable()}setBookings(e){this.bookings=e,this.bookingsSubject.next(this.bookings)}getBookingsForVehicleForInterval(e,i,o,r){const s=new Date(e),l=new Date(i);if(isNaN(s.getTime()))throw new Error("startDate must be a valid Date object.");if(isNaN(l.getTime()))throw new Error("endDate must be a valid Date object.");const d=parseInt(o,10);if(isNaN(d))throw new Error("vehicleId must be a valid integer.");const c=(new He.LE).set("startDate",s.toISOString()).set("endDate",l.toISOString()).set("vehicleId",d).set("ownerEmail",r);return this.http.get(this.baseUrl+"booking/bookingsForVehicleInInterval",{params:c})}getBookingsForVehicle(e){const i=parseInt(e,10),o=(new He.LE).set("vehicleId",i);return this.http.get(this.baseUrl+"booking/bookings",{params:o})}getBookingsOnDate(e,i){const o=parseInt(e,10),r=(new He.LE).set("vehicleId",o).set("date",i);return this.http.get(this.baseUrl+"booking/bookings/onDate",{params:r})}getUnavailableDatesForVehicle(e){const i=parseInt(e,10),o=(new He.LE).set("vehicleId",i);return this.http.get(this.baseUrl+"booking/unavailableDates",{params:o})}getVehicleDetailsForOwner(e){return this.http.get(this.baseUrl+"vehicle/details/"+e)}getPickupDropoffLocationsForOwnerEmail(e){return this.http.get(this.baseUrl+"vehicle/pickupDropoffLocations/"+e)}getVehicleById(e){return this.http.get(this.baseUrl+"vehicle/"+e)}updateVehicle(e,i){return this.http.put(this.baseUrl+"vehicle/"+e,i)}getIntervalDiscountsForVehicle(e){return this.http.get(this.baseUrl+"vehicle/discounts/"+e+"/1")}getMonthDiscountsForVehicle(e){return this.http.get(this.baseUrl+"vehicle/discounts/"+e+"/2")}updateDiscounts(e){return this.http.post(this.baseUrl+"vehicle/discounts",e)}getVehicleInsuranceDetails(e){return this.http.get(this.baseUrl+"vehicle/vehicleInsuranceDetails/"+e)}getInsuranceTypes(){return this.http.get(this.baseUrl+"vehicle/insuranceTypes")}getLocations(){return this.http.get(this.baseUrl+"vehicle/locations")}getLocationNameById(e){return this.http.get(this.baseUrl+"vehicle/locationNameById/"+e)}updateVehicleInsuranceDetails(e){return console.log("from SERVICE"),console.log(e),this.http.post(this.baseUrl+"vehicle/vehicleInsuranceDetails",e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(He.eN),t.LFG(Se.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Me=g(740),V=g(3416);function Hd(n,a){if(1&n&&(t.TgZ(0,"option",7),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}let jd=(()=>{class n{constructor(e,i){this.dashboardService=e,this.accountService=i,this.filterBookingsSubmitted=new t.vpe,this.createBookingsCalendarForm()}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{e&&this.getVehicleDetailsForOwner(e.email)})}createBookingsCalendarForm(){this.bookingsCalendarForm=new p.cw({vehicleId:new p.NI("",[p.kI.required])})}onSubmit(){this.bookingsCalendarForm.valid&&this.filterBookingsSubmitted.emit({vehicleId:this.bookingsCalendarForm.value.vehicleId})}getVehicleDetailsForOwner(e){this.dashboardService.getVehicleDetailsForOwner(e).subscribe(i=>{this.vehicleDetails=i.map(o=>({name:o.vehicleRegistrationNumber+" ("+o.vehicleBrand+" "+o.vehicleModel+")",value:o.id.toString()}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(he),t.Y36(Me.B))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-filter-bookings"]],outputs:{filterBookingsSubmitted:"filterBookingsSubmitted"},decls:12,vars:8,consts:[[3,"formGroup"],[1,"col-lg-9","col-md-12"],[1,"row"],[1,"col-6"],["formControlName","vehicleId",1,"form-select","mb-4",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"select",4),t.NdJ("change",function(){return i.onSubmit()}),t.TgZ(8,"option",5),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.YNc(11,Hd,2,2,"option",6),t.qZA()()()()()),2&e&&(t.Q6J("formGroup",i.bookingsCalendarForm),t.xp6(5),t.Oqu(t.lcZ(6,4,"dashboard.filter-bookings.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(10,6,"dashboard.filter-bookings.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.vehicleDetails))},dependencies:[f.sg,p._Y,p.YN,p.Kr,p.EJ,p.JJ,p.JL,p.sg,p.u,V.X$]}),n})();var T=g(3238),_n=g(1994),ra=g(8184),gn=g(4080),bn=g(3353);const Ud=["mat-button",""],qd=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zd=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Jd=["mat-icon-button",""],Qd=["*"],Wd=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Kd=(0,T.pj)((0,T.Id)((0,T.Kr)(class{constructor(n){this._elementRef=n}})));let sa=(()=>{class n extends Kd{constructor(e,i,o,r){super(e),this._platform=i,this._ngZone=o,this._animationMode=r,this._focusMonitor=(0,t.f3M)(_n.tE),this._isFab=!1;const s=e.nativeElement.classList;for(const l of Wd)this._hasHostAttributes(l.selector)&&l.mdcClasses.forEach(d=>{s.add(d)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){t.$Z()},n.\u0275dir=t.lG2({type:n,viewQuery:function(e,i){if(1&e&&t.Gf(T.wG,5),2&e){let o;t.iGM(o=t.CRH())&&(i.ripple=o.first)}},features:[t.qOj]}),n})(),ec=(()=>{class n extends sa{constructor(e,i,o,r){super(e,i,o,r)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(bn.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(t.uIk("disabled",i.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:Ud,ngContentSelectors:zd,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(t.F$t(qd),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(t.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),t.xp6(6),t.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[T.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),nc=(()=>{class n extends sa{constructor(e,i,o,r){super(e,i,o,r)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(bn.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(t.uIk("disabled",i.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:Jd,ngContentSelectors:Qd,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(t.xp6(3),t.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[T.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),ic=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[T.BQ,T.si,T.BQ]}),n})();var ac=g(8605),je=g(727),D=g(9521),vn=g(445);g(1281),g(7340);const hc=["mat-calendar-body",""];function fc(n,a){if(1&n&&(t.TgZ(0,"tr",3)(1,"td",4),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.uIk("colspan",e.numCols),t.xp6(1),t.hij(" ",e.label," ")}}function _c(n,a){if(1&n&&(t.TgZ(0,"td",4),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.uIk("colspan",e._firstRowOffset),t.xp6(1),t.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function gc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",8)(1,"button",9),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l._cellClicked(s,o))})("focus",function(o){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l._emitActiveDateChange(s,o))}),t.TgZ(2,"span",10),t._uU(3),t.qZA(),t._UZ(4,"span",11),t.qZA()()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw().index,r=t.oxw();t.Udp("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),t.uIk("data-mat-row",o)("data-mat-col",i),t.xp6(1),t.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(o,i))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,o,i))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,o,i))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),t.Q6J("ngClass",e.cssClasses)("tabindex",r._isActiveCell(o,i)?0:-1),t.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),t.xp6(1),t.ekj("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),t.xp6(1),t.hij(" ",e.displayValue," ")}}function bc(n,a){if(1&n&&(t.TgZ(0,"tr",5),t.YNc(1,_c,2,6,"td",6),t.YNc(2,gc,5,48,"td",7),t.qZA()),2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(1),t.Q6J("ngIf",0===i&&o._firstRowOffset),t.xp6(1),t.Q6J("ngForOf",e)}}function vc(n,a){if(1&n&&(t.TgZ(0,"th",5)(1,"span",6),t._uU(2),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.long),t.xp6(2),t.Oqu(e.narrow)}}const xc=["*"];function Dc(n,a){}function yc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-month-view",5),t.NdJ("activeDateChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.activeDate=o)})("_userSelection",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._dateSelected(o))})("dragStarted",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._dragStarted(o))})("dragEnded",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._dragEnded(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function wc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-year-view",6),t.NdJ("activeDateChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.activeDate=o)})("monthSelected",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._monthSelectedInYearView(o))})("selectedChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._goToDateInView(o,"month"))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Cc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-multi-year-view",7),t.NdJ("activeDateChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.activeDate=o)})("yearSelected",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._yearSelectedInMultiYearView(o))})("selectedChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r._goToDateInView(o,"year"))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}let xn=(()=>{class n{constructor(){this.changes=new B.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dn{constructor(a,e,i,o,r={},s=a,l){this.value=a,this.displayValue=e,this.ariaLabel=i,this.enabled=o,this.cssClasses=r,this.compareValue=s,this.rawValue=l}}let Mc=1,Ue=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=(0,t.f3M)(bn.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new t.vpe,this.previewChange=new t.vpe,this.activeDateChange=new t.vpe,this.dragStarted=new t.vpe,this.dragEnded=new t.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const r=this._getCellFromElement(o.target);r&&this._ngZone.run(()=>this.previewChange.emit({value:r.enabled?r:null,event:o}))}},this._touchmoveHandler=o=>{if(!this.isRange)return;const r=la(o),s=r?this._getCellFromElement(r):null;r!==o.target&&(this._didDragSinceMouseDown=!0),wn(o.target)&&o.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:o}))},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&("blur"!==o.type&&(this._didDragSinceMouseDown=!0),o.target&&this._getCellFromElement(o.target)&&(!o.relatedTarget||!this._getCellFromElement(o.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o})))},this._mousedownHandler=o=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const r=o.target&&this._getCellFromElement(o.target);!r||!this._isInRange(r.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:r.rawValue,event:o})})},this._mouseupHandler=o=>{if(!this.isRange)return;const r=wn(o.target);r?r.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const s=this._getCellFromElement(r);this.dragEnded.emit({value:s?.rawValue??null,event:o})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:o})})},this._touchendHandler=o=>{const r=la(o);r&&this._mouseupHandler({target:r})},this._id="mat-calendar-body-"+Mc++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("touchmove",this._touchmoveHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0),o.addEventListener("mousedown",this._mousedownHandler),o.addEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:o,numCols:r}=this;(e.rows||i)&&(this._firstRowOffset=o&&o.length&&o[0].length?r-o[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/r+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/r+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("touchmove",this._touchmoveHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("touchstart",this._mousedownHandler),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let o=e*this.numCols+i;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,q.q)(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Cn(e,this.startValue,this.endValue)}_isRangeEnd(e){return Mn(e,this.startValue,this.endValue)}_isInRange(e){return Tn(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Cn(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[i][o-1];if(!r){const s=this.rows[i-1];r=s&&s[s.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,i,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[i][o+1];if(!r){const s=this.rows[i+1];r=s&&s[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return Mn(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Tn(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Cn(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Mn(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Tn(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){const i=wn(e);if(i){const o=i.getAttribute("data-mat-row"),r=i.getAttribute("data-mat-col");if(o&&r)return this.rows[parseInt(o)][parseInt(r)]}return null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[t.TTD],attrs:hc,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(t.YNc(0,fc,3,6,"tr",0),t.YNc(1,bc,3,2,"tr",1),t.TgZ(2,"label",2),t._uU(3),t.qZA(),t.TgZ(4,"label",2),t._uU(5),t.qZA()),2&e&&(t.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),t.xp6(1),t.Q6J("ngForOf",i.rows),t.xp6(1),t.Q6J("id",i._startDateLabelId),t.xp6(1),t.hij(" ",i.startDateAccessibleName,"\n"),t.xp6(1),t.Q6J("id",i._endDateLabelId),t.xp6(1),t.hij(" ",i.endDateAccessibleName,"\n"))},dependencies:[f.mk,f.sg,f.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function yn(n){return"TD"===n?.nodeName}function wn(n){let a;return yn(n)?a=n:yn(n.parentNode)?a=n.parentNode:yn(n.parentNode?.parentNode)&&(a=n.parentNode.parentNode),null!=a?.getAttribute("data-mat-row")?a:null}function Cn(n,a,e){return null!==e&&a!==e&&n<e&&n===a}function Mn(n,a,e){return null!==a&&a!==e&&n>=a&&n===e}function Tn(n,a,e,i){return i&&null!==a&&null!==e&&a!==e&&n>=a&&n<=e}function la(n){const a=n.changedTouches[0];return document.elementFromPoint(a.clientX,a.clientY)}class ${constructor(a,e){this.start=a,this.end=e}}let qe=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new B.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Tc=(()=>{class n extends qe{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T._A))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const kc={provide:qe,deps:[[new t.FiY,new t.tp0,qe],T._A],useFactory:function Ac(n,a){return n||new Tc(a)}},Nn=new t.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let da=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof $?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=r,this._rangeStrategy=s,this._rerenderSubscription=je.w0.EMPTY,this.activeDrag=null,this.selectedChange=new t.vpe,this._userSelection=new t.vpe,this.dragStarted=new t.vpe,this.dragEnded=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ie.O)(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,o=this._getDateFromDayOfMonth(i);let r,s;this._selected instanceof $?(r=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):r=s=this._getDateInCurrentMonth(this._selected),(r!==i||s!==i)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case D.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case D.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case D.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case D.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case D.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case D.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case D.Ku:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case D.VM:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case D.K5:case D.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case D.hY:return void(null!=this._previewEnd&&!(0,D.Vb)(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===D.L_||e.keyCode===D.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=i?i.rawValue:null,r=this._rangeStrategy.createPreview(o,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&o){const s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){const i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let r=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:i[l]}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,r=this._firstWeekOffset;o<e;o++,r++){7==r&&(this._weeks.push([]),r=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),l=this._shouldEnableDate(s),d=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),c=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new Dn(o+1,i[o],d,l,c,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(i,o,r).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof $?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(T.sG,8),t.Y36(T._A,8),t.Y36(vn.Is,8),t.Y36(Nn,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ue,5),2&e){let o;t.iGM(o=t.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[t.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t.YNc(3,vc,5,2,"th",2),t.qZA(),t.TgZ(4,"tr"),t._UZ(5,"th",3),t.qZA()(),t.TgZ(6,"tbody",4),t.NdJ("selectedValueChange",function(r){return i._dateSelected(r)})("activeDateChange",function(r){return i._updateActiveDate(r)})("previewChange",function(r){return i._previewChanged(r)})("dragStarted",function(r){return i.dragStarted.emit(r)})("dragEnded",function(r){return i._dragEnded(r)})("keyup",function(r){return i._handleCalendarBodyKeyup(r)})("keydown",function(r){return i._handleCalendarBodyKeydown(r)}),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",i._weekdays),t.xp6(3),t.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[f.sg,Ue],encapsulation:2,changeDetection:0}),n})();const K=24;let ca=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),ua(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof $?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=je.w0.EMPTY,this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ie.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-dt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,r=[];o<K;o++)r.push(i+o),4==r.length&&(this._years.push(r.map(s=>this._createCellForYear(s))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,o=this._dateAdapter.createDate(i,0,1),r=this._getDateFromYear(i);this.yearSelected.emit(o),this.selectedChange.emit(r)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case D.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case D.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case D.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case D.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case D.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case D.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,K-dt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case D.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*-K:-K);break;case D.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10*K:K);break;case D.K5:case D.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===D.L_||e.keyCode===D.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return dt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(i),r=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Dn(e,o,o,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof $){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(T._A,8),t.Y36(vn.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ue,5),2&e){let o;t.iGM(o=t.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(r){return i._yearSelected(r)})("activeDateChange",function(r){return i._updateActiveDate(r)})("keyup",function(r){return i._handleCalendarBodyKeyup(r)})("keydown",function(r){return i._handleCalendarBodyKeydown(r)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Ue],encapsulation:2,changeDetection:0}),n})();function ua(n,a,e,i,o){const r=n.getYear(a),s=n.getYear(e),l=pa(n,i,o);return Math.floor((r-l)/K)===Math.floor((s-l)/K)}function dt(n,a,e,i){return function Rc(n,a){return(n%a+a)%a}(n.getYear(a)-pa(n,e,i),K)}function pa(n,a,e){let i=0;return e?i=n.getYear(e)-K+1:a&&(i=n.getYear(a)),i}let ma=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof $?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,o,r){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=o,this._dir=r,this._rerenderSubscription=je.w0.EMPTY,this.selectedChange=new t.vpe,this.monthSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Ie.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(o);const r=this._getDateFromMonth(i);this.selectedChange.emit(r)}_updateActiveDate(e){const o=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,o=this._isRtl();switch(e.keyCode){case D.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case D.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case D.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case D.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case D.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case D.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case D.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case D.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case D.K5:case D.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===D.L_||e.keyCode===D.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,i){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(o,"year"):void 0;return new Dn(e,i.toLocaleUpperCase(),r,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&i>r}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&i<r}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof $?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(T.sG,8),t.Y36(T._A,8),t.Y36(vn.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ue,5),2&e){let o;t.iGM(o=t.CRH())&&(i._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(r){return i._monthSelected(r)})("activeDateChange",function(r){return i._updateActiveDate(r)})("keyup",function(r){return i._handleCalendarBodyKeyup(r)})("keydown",function(r){return i._handleCalendarBodyKeydown(r)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Ue],encapsulation:2,changeDetection:0}),n})(),Fc=1,Ec=(()=>{class n{constructor(e,i,o,r,s){this._intl=e,this.calendar=i,this._dateAdapter=o,this._dateFormats=r,this._id="mat-calendar-header-"+Fc++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-K)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:K)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):ua(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const i=this._dateAdapter.getYear(this.calendar.activeDate)-dt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=i+K-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1))]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(xn),t.Y36((0,t.Gpc)(()=>On)),t.Y36(T._A,8),t.Y36(T.sG,8),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:xc,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return i.currentPeriodClicked()}),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.O4$(),t.TgZ(5,"svg",4),t._UZ(6,"polygon",5),t.qZA()(),t.kcU(),t._UZ(7,"div",6),t.Hsn(8),t.TgZ(9,"button",7),t.NdJ("click",function(){return i.previousClicked()}),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return i.nextClicked()}),t.qZA()()(),t.TgZ(11,"label",9),t._uU(12),t.qZA()),2&e&&(t.xp6(2),t.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),t.xp6(2),t.Oqu(i.periodButtonText),t.xp6(1),t.ekj("mat-calendar-invert","month"!==i.calendar.currentView),t.xp6(4),t.Q6J("disabled",!i.previousEnabled()),t.uIk("aria-label",i.prevButtonLabel),t.xp6(1),t.Q6J("disabled",!i.nextEnabled()),t.uIk("aria-label",i.nextButtonLabel),t.xp6(1),t.Q6J("id",i._periodButtonLabelId),t.xp6(1),t.Oqu(i.periodButtonDescription))},dependencies:[ec,nc],encapsulation:2,changeDetection:0}),n})(),On=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof $?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,o,r){this._dateAdapter=i,this._dateFormats=o,this._changeDetectorRef=r,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.monthSelected=new t.vpe,this.viewChanged=new t.vpe(!0),this._userSelection=new t.vpe,this._userDragDrop=new t.vpe,this._activeDrag=null,this.stateChanges=new B.x,this._intlChanges=e.changes.subscribe(()=>{r.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new gn.C5(this.headerComponent||Ec),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=i||o||e.dateFilter;if(r&&!r.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof $||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(xn),t.Y36(T._A,8),t.Y36(T.sG,8),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(t.Gf(da,5),t.Gf(ma,5),t.Gf(ca,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.monthView=o.first),t.iGM(o=t.CRH())&&(i.yearView=o.first),t.iGM(o=t.CRH())&&(i.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[t._Bn([kc]),t.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(t.YNc(0,Dc,0,0,"ng-template",0),t.TgZ(1,"div",1),t.YNc(2,yc,1,11,"mat-month-view",2),t.YNc(3,wc,1,6,"mat-year-view",3),t.YNc(4,Cc,1,6,"mat-multi-year-view",4),t.qZA()),2&e&&(t.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),t.xp6(1),t.Q6J("ngSwitch",i.currentView),t.xp6(1),t.Q6J("ngSwitchCase","month"),t.xp6(1),t.Q6J("ngSwitchCase","year"),t.xp6(1),t.Q6J("ngSwitchCase","multi-year"))},dependencies:[f.RF,f.n9,_n.kH,gn.Pl,da,ma,ca],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0}),n})();const Lc={provide:new t.OlP("mat-datepicker-scroll-strategy"),deps:[ra.aV],useFactory:function Bc(n){return()=>n.scrollStrategies.reposition()}};let Uc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[xn,Lc],imports:[f.ez,ic,ra.U8,_n.rt,gn.eL,T.BQ,ac.ZD]}),n})(),qc=(()=>{class n{constructor(e){this.dateAdapter=e,this.onSelectedDate=new t.vpe,this.dateClass=i=>{const o=this.bookings.some(l=>this.isSameDate(l,i)),r=this.unavailableDates.some(l=>this.isSameDate(l,i));return 0===i.getDate()?"highlight-month":o?"highlight":r?"unavailable":""}}onSelect(e){console.log(e),this.selectedDate=e,console.log(this.selectedDate),this.onSelectedDate.emit(this.selectedDate)}ngOnChanges(e){e.bookings&&this.calendar&&this.refreshCalendar(),e.unavailableDates&&this.calendar&&this.refreshCalendar(),(e.bookings||e.unavailableDates)&&(this.isCalendarDisabled=!1)}ngOnInit(){this.isCalendarDisabled=!0,this.dateAdapter.setLocale(T.Ad),this.dateAdapter.getFirstDayOfWeek=()=>1}isSameDate(e,i){const o=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(i.getFullYear(),i.getMonth(),i.getDate());return o.getTime()===r.getTime()}refreshCalendar(){this.calendar.updateTodaysDate()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T._A))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bookings-calendar"]],viewQuery:function(e,i){if(1&e&&t.Gf(On,5),2&e){let o;t.iGM(o=t.CRH())&&(i.calendar=o.first)}},inputs:{bookings:"bookings",unavailableDates:"unavailableDates"},outputs:{onSelectedDate:"onSelectedDate"},features:[t._Bn([{provide:T.sG,useValue:{parse:{dateInput:"YYYY-MM-DD"},display:{dateInput:"YYYY-MM-DD",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}},{provide:T.Ad,useValue:"en"}]),t.TTD],decls:2,vars:4,consts:[[1,"bookings-calendar","mb-5"],[1,"custom-calendar",3,"dateClass","selected","selectedChange"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-calendar",1),t.NdJ("selectedChange",function(r){return i.onSelect(r)}),t.qZA()()),2&e&&(t.ekj("disabled",i.isCalendarDisabled),t.xp6(1),t.Q6J("dateClass",i.dateClass)("selected",i.selectedDate))},dependencies:[On],styles:[".bookings-calendar[_ngcontent-%COMP%]{width:400px;height:400px}.disabled[_ngcontent-%COMP%]{filter:blur(2px);pointer-events:none;opacity:.98}[_nghost-%COMP%]     .highlight:before{background-color:#28a745;z-index:-1}[_nghost-%COMP%]     .unavailable:before{background-color:#dc3545;z-index:-1}[_nghost-%COMP%]     .mat-calendar-body-label{font-weight:700;color:#000}[_nghost-%COMP%]     .mat-calendar-body-selected{background-color:#353434!important}"]}),n})();function zc(n,a){1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"dashboard.calendar.booking-approved"),""))}function $c(n,a){1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"dashboard.calendar.booking-pending"),""))}function Jc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onApproveBooking())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"dashboard.calendar.approve-booking")," "))}const Qc=function(n,a){return{approved:n,pending:a}};function Wc(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"span",12),t.YNc(4,zc,3,3,"span",13),t.YNc(5,$c,3,3,"span",13),t.qZA(),t.YNc(6,Jc,3,3,"a",14),t.qZA(),t.TgZ(7,"p",15),t._uU(8),t.qZA(),t.TgZ(9,"p",15),t._uU(10),t.qZA(),t.TgZ(11,"p",15),t._uU(12),t.qZA(),t.TgZ(13,"p",15),t._uU(14),t.qZA(),t.TgZ(15,"p",15),t._uU(16),t.qZA(),t.TgZ(17,"p",15),t._uU(18),t.qZA(),t.TgZ(19,"p",15),t._uU(20),t.qZA(),t.TgZ(21,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onBlockDate())}),t._uU(22),t.ALo(23,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngClass",t.WLB(14,Qc,e.selectedBooking.isApproved,!e.selectedBooking.isApproved)),t.xp6(1),t.Q6J("ngIf",e.selectedBooking.isApproved),t.xp6(1),t.Q6J("ngIf",!e.selectedBooking.isApproved),t.xp6(1),t.Q6J("ngIf",!e.selectedBooking.isApproved),t.xp6(2),t.Oqu(e.selectedBooking.phoneNumber),t.xp6(2),t.Oqu(e.selectedBooking.userFullName),t.xp6(2),t.Oqu(e.selectedBooking.userEmail),t.xp6(2),t.Oqu(e.selectedBooking.pickupLocation),t.xp6(2),t.Oqu(e.selectedBooking.dropoffLocation),t.xp6(2),t.Oqu(e.selectedBooking.pickupDate),t.xp6(2),t.Oqu(e.selectedBooking.dropoffDate),t.xp6(2),t.hij(" ",t.lcZ(23,12,"dashboard.calendar.block-date")," ")}}function Kc(n,a){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"span",19),t.TgZ(4,"span",17),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"p",15),t._uU(8),t.qZA(),t.TgZ(9,"p",15),t._uU(10),t.qZA(),t.TgZ(11,"p",15),t._uU(12),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,4,"dashboard.calendar.booking-unavailable")," "),t.xp6(3),t.Oqu(e.selectedUnavailability.reason),t.xp6(2),t.Oqu(e.selectedUnavailability.startDate),t.xp6(2),t.Oqu(e.selectedUnavailability.endDate)}}function Xc(n,a){1&n&&(t.TgZ(0,"h6",20),t._uU(1," Selected date has no bookings. "),t.qZA())}let eu=(()=>{class n{constructor(e,i,o,r){this.dashboardService=e,this.accountService=i,this.datePipe=o,this.confirmationDialogService=r,this.bookings=[],this.unavailableDates=[],this.hasEvents=!0}ngOnInit(){this.currentUser$=this.accountService.currentUser$}onSelectedDate(e){this.selectedDate=e,this.hasEvents=!1;const i=new Date(this.datePipe.transform(this.selectedDate,"yyyy-MM-ddTHH:mm:ss"));for(let o=0;o<this.apiBookings.length;o++){const r=this.apiBookings[o],s=new Date(r.pickupDate),l=new Date(r.dropoffDate);if(s<=i&&l>=i){this.selectedBooking=r,this.selectedUnavailability=null,this.hasEvents=!0,console.log(r);break}}for(let o=0;o<this.apiUnavailableDates.length;o++){const r=this.apiUnavailableDates[o],s=new Date(r.startDate),l=new Date(r.endDate);if(s<=i&&l>=i){this.selectedUnavailability=r,this.selectedBooking=null,this.hasEvents=!0,console.log(r);break}}}onBlockDate(){console.log(this.selectedDate)}onApproveBooking(){this.confirmationDialogService.confirm("Please confirm..","Do you really want to ... ?").then(e=>console.log("User confirmed:",e)).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}onFilterBookingsSubmitted(e){this.selectedBooking=null,this.selectedUnavailability=null,this.hasEvents=!0,this.dashboardService.getBookingsForVehicle(e.vehicleId).subscribe({next:i=>{this.apiBookings=i,this.bookings=this.convertBookingsToDates(i)},error:i=>console.log(i)}),this.dashboardService.getUnavailableDatesForVehicle(e.vehicleId).subscribe({next:i=>{this.apiUnavailableDates=i,this.unavailableDates=this.convertUnavToDates(i)},error:i=>console.log(i)})}convertBookingsToDates(e){const i=[];for(const o of e){const r=new Date(o.pickupDate),s=new Date(o.dropoffDate),l=Math.abs(s.getTime()-r.getTime()),d=Math.ceil(l/864e5);for(let c=0;c<=d;c++){const u=new Date(r);u.setDate(r.getDate()+c),i.push(u)}}return i}convertUnavToDates(e){const i=[];for(const o of e){const r=new Date(o.startDate),s=new Date(o.endDate),l=Math.abs(s.getTime()-r.getTime()),d=Math.ceil(l/864e5);for(let c=0;c<=d;c++){const u=new Date(r);u.setDate(r.getDate()+c),i.push(u)}}return i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(he),t.Y36(Me.B),t.Y36(f.uU),t.Y36(oa))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-calendar"]],features:[t._Bn([f.uU,oa])],decls:20,vars:17,consts:[[1,"mb-2"],[1,"col-9","mb-4"],[3,"filterBookingsSubmitted"],[1,"row"],[1,"col-6"],[3,"bookings","unavailableDates","onSelectedDate"],[1,"col-6","mt-4"],["class","card p-3",4,"ngIf"],["class","mt-4 text-muted",4,"ngIf"],[1,"card","p-3"],[1,"status-container","mb-2"],[1,"status-content"],[1,"status-indicator","me-2",3,"ngClass"],["class","text-muted",4,"ngIf"],["class","custom-approve",3,"click",4,"ngIf"],[1,"mb-1"],[1,"custom-danger",3,"click"],[1,"text-muted"],[1,"custom-approve",3,"click"],[1,"status-indicator","me-2","error"],[1,"mt-4","text-muted"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",1),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"app-filter-bookings",2),t.NdJ("filterBookingsSubmitted",function(r){return i.onFilterBookingsSubmitted(r)}),t.qZA(),t.TgZ(7,"div",3)(8,"div",4)(9,"app-bookings-calendar",5),t.NdJ("onSelectedDate",function(r){return i.onSelectedDate(r)}),t.qZA()(),t.TgZ(10,"div",6)(11,"h5"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.YNc(17,Wc,24,17,"div",7),t.YNc(18,Kc,13,6,"div",7),t.YNc(19,Xc,2,0,"h6",8),t.qZA()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,9,"dashboard.sidebar.my-bookings")),t.xp6(3),t.hij(" ",t.lcZ(5,11,"dashboard.calendar.sub-title"),"\n"),t.xp6(5),t.Q6J("bookings",i.bookings)("unavailableDates",i.unavailableDates),t.xp6(3),t.hij(" ",t.lcZ(13,13,"dashboard.calendar.booking-details-title")," "),t.xp6(3),t.hij(" ",t.lcZ(16,15,"dashboard.calendar.booking-details-text")," "),t.xp6(2),t.Q6J("ngIf",i.selectedBooking&&i.hasEvents),t.xp6(1),t.Q6J("ngIf",i.selectedUnavailability&&i.hasEvents),t.xp6(1),t.Q6J("ngIf",!i.hasEvents))},dependencies:[f.mk,f.O5,jd,qc,V.X$],styles:[".status-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.status-content[_ngcontent-%COMP%]{display:flex;align-items:center}.status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background-color:var(--circle-color);border:2px solid transparent;box-shadow:0 0 0 1px #fff,0 0 0 2px var(--circle-color)}.approved[_ngcontent-%COMP%]{--circle-color: green}.pending[_ngcontent-%COMP%]{--circle-color: #ffcc00}.error[_ngcontent-%COMP%]{--circle-color: red}.custom-approve[_ngcontent-%COMP%]{color:green;font-size:14px;cursor:pointer;text-decoration:none}.custom-danger[_ngcontent-%COMP%]{color:red;font-size:14px;cursor:pointer;text-decoration:none}"]}),n})();const fe=function(){return{exact:!0}};let tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sidebar"]],decls:42,vars:40,consts:[[1,"d-flex","pt-3","bg-white","sidebar-container"],[1,"nav","nav-pills","flex-column","sidebar-items","mt-3"],[1,"nav-item","active","card","mb-3"],["routerLink","/dashboard/calendar","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-bookings.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],[1,"nav-item","card","mb-3"],["routerLink","/dashboard/car-inventory","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["routerLink","/dashboard/price-filters","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-pricing-filters.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],["routerLink","/dashboard/deposit-settings","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-deposit-settings.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],["routerLink","/dashboard/billings","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-billings.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],["routerLink","/dashboard/locations","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-locations.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],["routerLink","/dashboard/insurances","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-insurance-settings.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"],["routerLink","/dashboard/settings","routerLinkActive","active-nav",1,"nav-link","link-dark",3,"routerLinkActiveOptions"],["src","/assets/images/dashboard-sidebar-settings.png",1,"cursor-pointer","me-2",2,"height","25px","width","auto"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"a",3),t._UZ(4,"img",4),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"li",5)(8,"a",6),t._UZ(9,"img",4),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"li",5)(13,"a",7),t._UZ(14,"img",8),t._uU(15),t.ALo(16,"translate"),t.qZA()(),t.TgZ(17,"li",5)(18,"a",9),t._UZ(19,"img",10),t._uU(20),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"li",5)(23,"a",11),t._UZ(24,"img",12),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"li",5)(28,"a",13),t._UZ(29,"img",14),t._uU(30),t.ALo(31,"translate"),t.qZA()(),t.TgZ(32,"li",5)(33,"a",15),t._UZ(34,"img",16),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"li",5)(38,"a",17),t._UZ(39,"img",18),t._uU(40),t.ALo(41,"translate"),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(32,fe)),t.xp6(2),t.hij(" ",t.lcZ(6,16,"dashboard.sidebar.my-bookings")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(33,fe)),t.xp6(2),t.hij(" ",t.lcZ(11,18,"dashboard.sidebar.my-cars")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(34,fe)),t.xp6(2),t.hij(" ",t.lcZ(16,20,"dashboard.sidebar.price-filters")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(35,fe)),t.xp6(2),t.hij(" ",t.lcZ(21,22,"dashboard.sidebar.deposit-settings")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(36,fe)),t.xp6(2),t.hij(" ",t.lcZ(26,24,"dashboard.sidebar.billings")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(37,fe)),t.xp6(2),t.hij(" ",t.lcZ(31,26,"dashboard.sidebar.locations")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(38,fe)),t.xp6(2),t.hij(" ",t.lcZ(36,28,"dashboard.sidebar.insurances")," "),t.xp6(3),t.Q6J("routerLinkActiveOptions",t.DdM(39,fe)),t.xp6(2),t.hij(" ",t.lcZ(41,30,"dashboard.sidebar.settings")," "))},dependencies:[Se.rH,Se.Od,V.X$],styles:[".nav-link[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{background-color:gray;border-top-left-radius:0;border-bottom-left-radius:0;border:none}.active-nav[_ngcontent-%COMP%]{background-color:#000!important;border-top-left-radius:0;border-bottom-left-radius:0}.sidebar-container[_ngcontent-%COMP%]{margin-top:50px!important;margin-bottom:100px!important}.sidebar-items[_ngcontent-%COMP%]{width:90%}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{margin-top:30px!important}}"]}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dahsboard"]],decls:7,vars:0,consts:[[1,"d-flex","justify-content-left"],[1,"sidebar-container","col-lg-2","col-sm-6","col-md-6"],[1,"content-container","col-lg-9"],[1,"toast-container"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-sidebar"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"router-outlet"),t.TgZ(5,"div",3),t._UZ(6,"ngx-toastr"),t.qZA()()())},dependencies:[Se.lC,tu],styles:[".sidebar-container[_ngcontent-%COMP%]{border-right:1px solid #DEDEDE;margin-left:32px}.content-container[_ngcontent-%COMP%]{margin:80px 0 80px 30px!important}"]}),n})();class iu{constructor(a){this.id=a.id,this.vehicleBrand=a.vehicleBrand,this.vehicleModel=a.vehicleModel,this.manufacturingDate=a.manufacturingDate,this.price=a.price,this.hasAirConditioning=a.hasAirConditioning,this.pictureUrl=a.pictureUrl,this.transmissionType=a.transmissionType,this.numberOfDoors=a.numberOfDoors,this.maxNumberOfPassengers=a.maxNumberOfPassengers,this.luggageCapacity=a.luggageCapacity,this.fuelType=a.fuelType,this.baseDepositAmount=a.baseDepositAmount,this.baseMaxDistance=a.baseMaxDistance,this.reviewsScore=a.reviewsScore,this.vehicleRegistrationNumber=a.vehicleRegistrationNumber,this.isAvailable=a.isAvailable,this.extra100KmPrice=a.extra100KmPrice,this.canLeaveCountry=a.canLeaveCountry}}var It=g(7185),Rt=g(3205);function au(n,a){if(1&n&&(t.TgZ(0,"option",15),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function ou(n,a){if(1&n&&(t.TgZ(0,"option",15),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}const ru=function(n){return{"form-blur":n}};let su=(()=>{class n{constructor(e,i,o,r){this.translate=e,this.dashboardService=i,this.accountService=o,this.toastr=r,this.isFormDisabled=!0,this.carStatuses=["Available","Unavailable"],this.transmissionTypes=["Manual","Automatic"],this.fuelTypes=["Gasoline","Diesel","Electric","Hybrid"],this.hasAirConditioning=["Yes","No"],this.noOfDoors=["1","2","3","4","5"],this.luggageCapacities=["1","2","3","4","5","6"],this.maxNoOfPassengers=["1","2","3","4","5","6","7"],this.createCarInventoryForm(),this.toastr.toastrConfig.positionClass="toast-bottom-right"}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{this.getVehicleDetailsForOwner(e.email)})}createCarInventoryForm(){this.carInventoryForm=new p.cw({vrn:new p.NI(""),status:new p.NI("")}),this.disableForm()}disableForm(){this.carInventoryForm.disable(),this.isFormDisabled=!0}enableForm(){this.carInventoryForm.enable(),this.isFormDisabled=!1}isFormReadyForSubmit(){return this.carInventoryForm.valid&&this.carInventoryForm.dirty}onSubmit(){if(this.carInventoryForm.valid){var e=this.convertFormValuesToVehicle();this.dashboardService.updateVehicle(this.selectedVehicle.id,e).subscribe({next:()=>{this.dashboardService.getVehicleById(this.selectedVehicle.id).subscribe(i=>{this.selectedVehicle=i,this.enableForm(),this.selectedVehicle&&this.populateFormValues(this.selectedVehicle)}),this.toastr.success(this.translate.instant("toastr.success.vehicle-edited"))},error:i=>{this.toastr.error(this.translate.instant("toastr.error.try-again-or-contact"))}})}}convertFormValuesToVehicle(){var e=new iu(this.selectedVehicle);return e.vehicleRegistrationNumber=this.carInventoryForm.value.vrn,e.isAvailable="Available"===this.carInventoryForm.value.status,e}onVehicleSelected(e){this.dashboardService.getVehicleById(e.target.value).subscribe(i=>{this.selectedVehicle=i,this.enableForm(),this.selectedVehicle&&this.populateFormValues(this.selectedVehicle)})}populateFormValues(e){console.log(e.vehicleRegistrationNumber),this.carInventoryForm.setValue({vrn:e.vehicleRegistrationNumber,status:1==e.isAvailable?"Available":"Unavailable"})}getVehicleDetailsForOwner(e){this.dashboardService.getVehicleDetailsForOwner(e).subscribe(i=>{this.vehicleDetails=i.map(o=>({name:o.vehicleRegistrationNumber+" ("+o.vehicleBrand+" "+o.vehicleModel+")",value:o.id.toString()}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.sK),t.Y36(he),t.Y36(Me.B),t.Y36(It._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-inventory"]],decls:84,vars:71,consts:[[1,"mb-2"],[1,"col-9","mb-4"],[1,"row","mt-4"],[1,"col-4"],[1,"form-select","mb-4",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-2"],["formControlName","status",1,"form-select","mb-4"],[1,"row"],["formControlName","vrn",3,"disabled","label"],["type","submit",1,"btn","btn-success","mt-3",3,"disabled"],[1,"col-3","ps-4","ms-4"],[1,"col-3","ps-4"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",1),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"select",4),t.NdJ("change",function(r){return i.onVehicleSelected(r)}),t.TgZ(12,"option",5),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,au,2,2,"option",6),t.qZA()()(),t.TgZ(16,"form",7),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(17,"div",2)(18,"h4"),t._uU(19),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"div",8)(22,"div",3)(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"select",9)(27,"option",5),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.YNc(30,ou,2,2,"option",6),t.qZA(),t.TgZ(31,"div",10),t._UZ(32,"app-text-input",11),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"button",12),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"div",13)(38,"label"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"h6"),t._uU(42),t.qZA(),t.TgZ(43,"label"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"h6"),t._uU(47),t.qZA(),t.TgZ(48,"label"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"h6"),t._uU(52),t.qZA(),t.TgZ(53,"label"),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"h6"),t._uU(57),t.qZA(),t.TgZ(58,"label"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"h6"),t._uU(62),t.qZA()(),t.TgZ(63,"div",14)(64,"label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"h6"),t._uU(68),t.qZA(),t.TgZ(69,"label"),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"h6"),t._uU(73),t.qZA(),t.TgZ(74,"label"),t._uU(75),t.ALo(76,"translate"),t.qZA(),t.TgZ(77,"h6"),t._uU(78),t.qZA(),t.TgZ(79,"label"),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"h6"),t._uU(83),t.qZA()()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,33,"dashboard.sidebar.my-cars")),t.xp6(3),t.hij(" ",t.lcZ(5,35,"dashboard.my-cars.sub-title"),"\n"),t.xp6(5),t.Oqu(t.lcZ(10,37,"dashboard.my-cars.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(14,39,"dashboard.my-cars.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.vehicleDetails),t.xp6(1),t.Q6J("formGroup",i.carInventoryForm)("ngClass",t.VKq(69,ru,i.isFormDisabled)),t.xp6(3),t.Oqu(t.lcZ(20,41,"dashboard.my-cars.edit-details")),t.xp6(5),t.Oqu(t.lcZ(25,43,"dashboard.my-cars.status")),t.xp6(4),t.hij(" ",t.lcZ(29,45,"dashboard.my-cars.status")," "),t.xp6(2),t.Q6J("ngForOf",i.carStatuses),t.xp6(2),t.Q6J("disabled",i.carInventoryForm.disabled)("label",t.lcZ(33,47,"dashboard.my-cars.vrn")),t.xp6(2),t.Q6J("disabled",!i.isFormReadyForSubmit()),t.xp6(1),t.hij(" ",t.lcZ(36,49,"save-button")," "),t.xp6(4),t.Oqu(t.lcZ(40,51,"dashboard.my-cars.brand")),t.xp6(3),t.Oqu(i.selectedVehicle?i.selectedVehicle.vehicleBrand:"-"),t.xp6(2),t.Oqu(t.lcZ(45,53,"dashboard.my-cars.model")),t.xp6(3),t.Oqu(i.selectedVehicle?i.selectedVehicle.vehicleModel:"-"),t.xp6(2),t.Oqu(t.lcZ(50,55,"dashboard.my-cars.manufacturing-date")),t.xp6(3),t.hij(" ",i.selectedVehicle?i.selectedVehicle.manufacturingDate.split("").slice(0,4).join(""):"-"," "),t.xp6(2),t.Oqu(t.lcZ(55,57,"dashboard.my-cars.transmission-type")),t.xp6(3),t.Oqu(i.selectedVehicle?i.selectedVehicle.transmissionType:"-"),t.xp6(2),t.Oqu(t.lcZ(60,59,"dashboard.my-cars.fuel-type")),t.xp6(3),t.Oqu(i.selectedVehicle?i.selectedVehicle.fuelType:"-"),t.xp6(3),t.Oqu(t.lcZ(66,61,"dashboard.my-cars.air-conditioning")),t.xp6(3),t.hij(" ",i.selectedVehicle?i.selectedVehicle.hasAirConditioning?"Yes":"No":"-"," "),t.xp6(2),t.Oqu(t.lcZ(71,63,"dashboard.my-cars.luggage-capacity")),t.xp6(3),t.hij(" ",i.selectedVehicle?i.selectedVehicle.luggageCapacity.toString():"-"," "),t.xp6(2),t.Oqu(t.lcZ(76,65,"dashboard.my-cars.number-of-doors")),t.xp6(3),t.hij(" ",i.selectedVehicle?i.selectedVehicle.numberOfDoors.toString():"-"," "),t.xp6(2),t.Oqu(t.lcZ(81,67,"dashboard.my-cars.max-number-of-passengers")),t.xp6(3),t.hij(" ",i.selectedVehicle?i.selectedVehicle.maxNumberOfPassengers.toString():"-"," "))},dependencies:[f.mk,f.sg,Rt.t,p._Y,p.YN,p.Kr,p.EJ,p.JJ,p.JL,p.sg,p.u,V.X$],styles:[".form-blur[_ngcontent-%COMP%]{filter:blur(2px);pointer-events:none;opacity:.98}"]}),n})();class _a{}class lu{}function du(n,a){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function cu(n,a){if(1&n&&(t.TgZ(0,"option",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.AsE(" ",e," ",t.lcZ(2,3,"dashboard.price-filters.days")," ")}}function uu(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",26)(2,"div",14)(3,"div",10)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"select",27),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.startingWithChanged(s,o))}),t.YNc(8,cu,3,5,"option",6),t.qZA()(),t.TgZ(9,"div",10)(10,"label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"app-text-input",28),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.pricePerDayChanged(s,o))}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",10)(16,"label"),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"app-text-input",29),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.discountPercentageChanged(s,o))}),t.qZA()(),t.TgZ(20,"div",30)(21,"button",31),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeDiscount(r))}),t._uU(22),t.ALo(23,"translate"),t.qZA()()()()()}if(2&n){const e=a.index,i=t.oxw();t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Oqu(t.lcZ(6,8,"dashboard.price-filters.starting-with-label")),t.xp6(3),t.Q6J("ngForOf",i.calculateStartingWithDays(i.getSelectedDaysArray(),e)),t.xp6(3),t.Oqu(t.lcZ(12,10,"dashboard.price-filters.price-per-day-label")),t.xp6(2),t.Q6J("label",t.lcZ(14,12,"currency.ron")),t.xp6(4),t.Oqu(t.lcZ(18,14,"dashboard.price-filters.discount-label")),t.xp6(2),t.Q6J("label","%"),t.xp6(3),t.hij(" ",t.lcZ(23,16,"dashboard.price-filters.delete-discount")," ")}}function pu(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",e.intervalStartInDays,"-",e.intervalEndInDays," ")}}function mu(n,a){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.intervalStartInDays," ")}}function hu(n,a){if(1&n&&(t.TgZ(0,"th"),t.YNc(1,pu,2,2,"ng-container",32),t.YNc(2,mu,2,1,"ng-container",32),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.intervalStartInDays!=e.intervalEndInDays),t.xp6(1),t.Q6J("ngIf",e.intervalStartInDays==e.intervalEndInDays),t.xp6(1),t.hij(" ",t.lcZ(4,3,"dashboard.price-filters.days")," ")}}function fu(n,a){1&n&&(t.ynx(0),t._uU(1," - "),t.BQk())}function _u(n,a){if(1&n&&t._uU(0),2&n){const e=t.oxw().$implicit;t.hij(" ",e,"% ")}}function gu(n,a){if(1&n&&(t.TgZ(0,"option",25),t.YNc(1,fu,2,0,"ng-container",36),t.YNc(2,_u,1,1,"ng-template",null,37,t.W1O),t.qZA()),2&n){const e=a.$implicit,i=t.MAs(3);t.Q6J("value",e),t.xp6(1),t.Q6J("ngIf",0==e)("ngIfElse",i)}}function bu(n,a){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&n){const e=a.$implicit,i=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.hij(" ",o.calculateDiscountedPrice(null==o.selectedVehicle?null:o.selectedVehicle.price,e.discountPercentage+i.value.discountPercentage).toFixed(1)," RON ")}}function vu(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",33)(2,"span",34),t._uU(3),t.qZA(),t.TgZ(4,"select",35),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.seasonDiscountChanged(s,o))}),t.YNc(5,gu,4,3,"option",6),t.qZA()(),t.YNc(6,bu,2,1,"td",19),t.qZA()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(1),t.Q6J("formGroupName",i),t.xp6(2),t.Oqu(o.getMonthName(e.value.month)),t.xp6(2),t.Q6J("ngForOf",o.generateDiscountValues(e)),t.xp6(1),t.Q6J("ngForOf",o.discountsArray)}}const xu=function(n){return{"form-blur":n}};let Du=(()=>{class n{getMonthName(e){const i=this.months.find(o=>o.number===e);return i?i.name:""}constructor(e,i,o,r){this.dashboardService=e,this.accountService=i,this.toastr=o,this.translate=r,this.discountSelectedValue=0,this.isFormDisabled=!0,this.months=[{name:"Jan",number:1},{name:"Feb",number:2},{name:"Mar",number:3},{name:"Apr",number:4},{name:"May",number:5},{name:"Jun",number:6},{name:"Jul",number:7},{name:"Aug",number:8},{name:"Sep",number:9},{name:"Oct",number:10},{name:"Nov",number:11},{name:"Dec",number:12}],this.createPriceFiltersForm(),this.disableForm(),this.toastr.toastrConfig.positionClass="custom-toast"}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{this.getVehicleDetailsForOwner(e.email)})}createPriceFiltersForm(){this.priceFiltersForm=new p.cw({pricePerDay:new p.NI(""),deposit:new p.NI(""),extraKm:new p.NI(""),canLeaveCountry:new p.NI(null),discounts:new p.Oe([]),seasonDiscounts:new p.Oe([])})}createDiscountGroupFromObject(e){const{intervalStartInDays:i,discountPercentage:o,intervalEndInDays:r,id:s,discountType:l,vehicleId:d}=e;return new p.cw({intervalStartInDays:new p.NI(i),discountPercentage:new p.NI(o),pricePerDay:new p.NI(this.calculateDiscountedPrice(this.selectedVehicle?.price||0,o)),intervalEndInDays:new p.NI(r),id:new p.NI(s||null),discountType:new p.NI(l||null),vehicleId:new p.NI(d||null)})}createSeasonDiscountGroupFromObject(e){return new p.cw({month:new p.NI(e.month),discountPercentage:new p.NI(e.discountPercentage),id:new p.NI(e.id??null),discountType:new p.NI(e.discountType??null),intervalStartInDays:new p.NI(e.intervalStartInDays??null),intervalEndInDays:new p.NI(e.intervalEndInDays??null),vehicleId:new p.NI(e.vehicleId??null)})}calculateDiscountedPrice(e,i){var o=e-.01*i*e;return o>=0?o:0}calculateDiscountPercentage(e,i){return 100*(e-i)/e}startingWithChanged(e,i){const o=parseInt(i.target.value),r=this.discounts.controls[e],s=r.get("intervalStartInDays");if(r.get("intervalEndInDays"),null!==s.value&&s.setValue(o),e>0){const c=this.discounts.controls[e-1].get("intervalEndInDays"),u=parseInt(s.value);u<=parseInt(c.value)&&c.setValue(u-1),u>parseInt(c.value+1)&&c.setValue(u-1)}this.discountsArray=this.discounts.controls.map(d=>d.value)}pricePerDayChanged(e,i){const o=parseFloat(i.target.value),r=this.discounts.controls[e],s=r.get("discountPercentage");if(null!==s.value){const l=this.calculateDiscountPercentage(this.selectedVehicle.price,o);s.setValue(l)}r.patchValue({pricePerDay:o})}basePricePerDayChanged(e){const i=parseFloat(e.target.value);this.selectedVehicle.price=i,this.discounts.controls.forEach(o=>{const r=o.get("discountPercentage").value,s=this.calculateDiscountedPrice(i,r);o.patchValue({pricePerDay:s})}),this.priceFiltersForm.patchValue({pricePerDay:i}),this.discounts.controls.forEach((o,r)=>{const s=o.get("discountPercentage").value,l=this.calculateDiscountedPrice(i,s);o.patchValue({pricePerDay:l})}),this.discountsArray=this.discounts.controls.map(o=>o.value)}depositChanged(e){const i=parseFloat(e.target.value);this.priceFiltersForm.patchValue({deposit:i}),this.discountsArray=this.discounts.controls.map(o=>o.value)}extraKmChanged(e){const i=parseFloat(e.target.value);this.priceFiltersForm.patchValue({extraKm:i}),this.discountsArray=this.discounts.controls.map(o=>o.value)}discountPercentageChanged(e,i){const o=parseFloat(i.target.value),r=this.discounts.controls[e],s=r.get("pricePerDay");if(null!==s.value){const l=this.calculateDiscountedPrice(this.selectedVehicle.price,o);s.setValue(l)}r.patchValue({discountPercentage:o}),this.discountsArray=this.discounts.controls.map(l=>l.value)}seasonDiscountChanged(e,i){const o=parseFloat(i.target.value),r=this.seasonDiscounts.controls[e],s=r.get("discountPercentage");null!==s.value&&(s.setValue(o),r.get("discountType").setValue(2),r.get("intervalStartInDays").setValue(0),r.get("intervalEndInDays").setValue(2),r.get("vehicleId").setValue(this.selectedVehicle.id)),r.patchValue({discountPercentage:o}),this.seasonDiscountsArray=this.seasonDiscounts.controls.map(l=>l.value)}calculateStartingWithDays(e,i){const o=Array.from({length:30},(c,u)=>u+1);if(0===e.length)return o;const r=e.slice(0,i),s=Math.max(...r),l=e.slice(i+1),d=Math.min(...l);return d<=s+1?[]:o.slice(s,d-1)}getSelectedDaysArray(){return this.discounts.controls.map(e=>e.value.intervalStartInDays)}get discounts(){return this.priceFiltersForm.get("discounts")}get seasonDiscounts(){return this.priceFiltersForm.get("seasonDiscounts")}addDiscount(){const e=this.getSelectedDaysArray(),i=Math.max(...e);if(i>=30)return;const o=i+1;if(0===this.calculateStartingWithDays(e,e.length).length)return;const s=new _a;s.intervalStartInDays=o,s.discountType=1,s.intervalEndInDays=30,s.discountPercentage=0,s.vehicleId=this.selectedVehicle.id,this.discounts.push(this.createDiscountGroupFromObject(s)),this.priceFiltersForm.markAsDirty();const d=this.discounts.controls[this.discounts.length-1].get("intervalStartInDays"),c=parseInt(d.value),u=this.discounts.controls[this.discounts.length-2];if(u){const m=u.get("intervalEndInDays");c<=parseInt(m.value)&&m.setValue(c-1)}this.discountsArray=this.discounts.controls.map(m=>m.value)}removeDiscount(e){if(0!=e){const o=this.discounts.controls[e-1].get("intervalEndInDays"),s=this.discounts.controls[e].get("intervalStartInDays");o.setValue(e===this.discounts.length-1?30:s.value)}this.discounts.removeAt(e),this.priceFiltersForm.markAsDirty(),this.discountsArray=this.discounts.controls.map(i=>i.value)}getDiscountsFromFormSeasonDiscounts(e){e.map(o=>{})}getDiscountsUpdateModel(e){const i=new lu;return i.vehicleId=this.selectedVehicle.id,i.canLeaveCountry=e.canLeaveCountry,i.baseDepositAmount=e.deposit,i.price=e.pricePerDay,i.extra100KmPrice=e.extraKm,i.discounts=this.discountsArray,i.discounts=i.discounts.concat(this.seasonDiscountsArray.filter(o=>0!==o.discountPercentage)),i}onSubmit(){this.dashboardService.updateDiscounts(this.getDiscountsUpdateModel(this.priceFiltersForm.value)).subscribe({next:()=>{this.disableForm(),this.onVehicleSelected(null,this.selectedVehicle.id),this.toastr.success(this.translate.instant("toastr.success.vehicle-edited")),this.priceFiltersForm.markAsPristine()},error:e=>{this.toastr.error(this.translate.instant("toastr.error.try-again-or-contact"))}})}onVehicleSelected(e,i){this.dashboardService.getVehicleById(e?e.target.value:i).subscribe(o=>{this.selectedVehicle=o,this.dashboardService.getIntervalDiscountsForVehicle(o.id).subscribe(r=>{this.discountsArray=r,this.dashboardService.getMonthDiscountsForVehicle(o.id).subscribe(s=>{this.seasonDiscountsArray=s,this.populateFormValues(this.selectedVehicle)})}),this.enableForm()})}findSeasonDiscountByMonth(e){return this.seasonDiscountsArray.find(i=>i.month===e)||null}generateDiscountValues(e){const i=[],o=e.get("discountPercentage").value;i.push(o);for(let r=-100;r<=100;r++)i.includes(r)||i.push(r);return i.sort((r,s)=>r-s)}populateFormValues(e){this.priceFiltersForm.patchValue({pricePerDay:e.price,deposit:e.baseDepositAmount,extraKm:e.extra100KmPrice,canLeaveCountry:e.canLeaveCountry});const i=this.discountsArray.map(l=>this.createDiscountGroupFromObject(l)),o=new p.Oe(i);this.priceFiltersForm.setControl("discounts",o);const r=this.months.map(l=>{const d=this.findSeasonDiscountByMonth(l.number),c=d?d.discountPercentage:0,u=new _a;return u.month=l.number,u.discountPercentage=c,u.id=d?d.id:null,u.discountType=d?d.discountType:null,u.intervalEndInDays=d?d.intervalEndInDays:null,u.intervalStartInDays=d?d.intervalStartInDays:null,u.vehicleId=d?d.vehicleId:null,this.createSeasonDiscountGroupFromObject(u)}),s=new p.Oe(r);this.priceFiltersForm.setControl("seasonDiscounts",s)}getVehicleDetailsForOwner(e){this.dashboardService.getVehicleDetailsForOwner(e).subscribe(i=>{this.vehicleDetails=i.map(o=>({name:o.vehicleRegistrationNumber+" ("+o.vehicleBrand+" "+o.vehicleModel+")",value:o.id.toString()}))})}disableForm(){this.priceFiltersForm.disable(),this.isFormDisabled=!0}enableForm(){this.priceFiltersForm.enable(),this.isFormDisabled=!1}isFormReadyForSubmit(){return this.priceFiltersForm.valid&&this.priceFiltersForm.dirty}generateRange(e,i,o){const r=[];for(let s=e;s<=i;s+=o)r.push(s);return r}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(he),t.Y36(Me.B),t.Y36(It._W),t.Y36(V.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-price-filters"]],decls:75,vars:60,consts:[[1,"mb-2"],[1,"col-9","mb-4"],[1,"row","mt-4"],[1,"col-4"],[1,"form-select","mb-4",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup","ngClass","ngSubmit"],[1,"card","p-3","pt-0","ms-2","mt-3"],[1,"row","mt-3"],[1,"col-3"],["formControlName","pricePerDay","type","numeric",3,"label","disabled","change"],["formControlName","deposit","type","numeric",3,"label","disabled","change"],["formControlName","extraKm","type","numeric",3,"label","disabled","change"],[1,"row"],["formControlName","canLeaveCountry","type","checkbox","id","can-leave-country","name","can-leave-country"],["for","can-leave-country",1,"ms-2"],[1,"row","mt-5"],["formArrayName","discounts"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"mb-4"],["formArrayName","seasonDiscounts"],[1,"fixed-width"],["type","submit",1,"btn","btn-success","mt-3","w-100",3,"disabled"],[3,"value"],[1,"card","px-3","py-2","mt-3",3,"formGroupName"],["formControlName","intervalStartInDays",1,"form-select","mb-4",3,"change"],["formControlName","pricePerDay","type","numeric",3,"label","change"],["formControlName","discountPercentage","type","integer",3,"label","change"],[1,"col-3","mt-2","pe-4","d-flex","justify-content-end","align-items-center"],[1,"btn","btn-outline-danger",3,"click"],[4,"ngIf"],[1,"month-cell","fixed-width",3,"formGroupName"],[1,"month-label"],["formControlName","discountPercentage",1,"form-select",3,"change"],[4,"ngIf","ngIfElse"],["elseTemplate",""]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",1),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"select",4),t.NdJ("change",function(r){return i.onVehicleSelected(r)}),t.TgZ(12,"option",5),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,du,2,2,"option",6),t.qZA()()(),t.TgZ(16,"form",7),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(17,"div",2)(18,"h5"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"div",8)(22,"div",9)(23,"div",10)(24,"label"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.TgZ(27,"app-text-input",11),t.NdJ("change",function(r){return i.basePricePerDayChanged(r)}),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"div",10)(30,"label"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"app-text-input",12),t.NdJ("change",function(r){return i.depositChanged(r)}),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"div",10)(36,"label"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"app-text-input",13),t.NdJ("change",function(r){return i.extraKmChanged(r)}),t.ALo(40,"translate"),t.qZA()()(),t.TgZ(41,"div",14)(42,"div",10),t._UZ(43,"input",15),t.TgZ(44,"label",16),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()(),t.TgZ(47,"div",17)(48,"h5"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",14)(52,"div",18),t.YNc(53,uu,24,18,"div",19),t.qZA()()(),t.TgZ(54,"div",2)(55,"div",10)(56,"button",20),t.NdJ("click",function(){return i.addDiscount()}),t._uU(57),t.ALo(58,"translate"),t.qZA()()(),t.TgZ(59,"div",17)(60,"h5",21),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"div",22)(64,"table")(65,"tr"),t._UZ(66,"th",23),t.YNc(67,hu,5,5,"th",19),t.qZA(),t.YNc(68,vu,7,4,"tr",19),t.qZA()()(),t.TgZ(69,"div",9)(70,"div",3)(71,"button",24),t._uU(72),t.ALo(73,"translate"),t.qZA(),t._UZ(74,"ngx-toastr"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,26,"dashboard.sidebar.price-filters")),t.xp6(3),t.hij(" ",t.lcZ(5,28,"dashboard.price-filters.sub-title"),"\n"),t.xp6(5),t.Oqu(t.lcZ(10,30,"dashboard.my-cars.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(14,32,"dashboard.my-cars.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.vehicleDetails),t.xp6(1),t.Q6J("formGroup",i.priceFiltersForm)("ngClass",t.VKq(58,xu,i.isFormDisabled)),t.xp6(3),t.Oqu(t.lcZ(20,34,"dashboard.price-filters.details-subheader")),t.xp6(6),t.Oqu(t.lcZ(26,36,"dashboard.price-filters.base-price-per-day-label")),t.xp6(2),t.Q6J("label",t.lcZ(28,38,"currency.ron"))("disabled",i.priceFiltersForm.disabled),t.xp6(4),t.Oqu(t.lcZ(32,40,"dashboard.price-filters.deposit-label")),t.xp6(2),t.Q6J("label",t.lcZ(34,42,"currency.ron"))("disabled",i.priceFiltersForm.disabled),t.xp6(4),t.Oqu(t.lcZ(38,44,"dashboard.price-filters.100-km-extra-label")),t.xp6(2),t.Q6J("label",t.lcZ(40,46,"currency.ron"))("disabled",i.priceFiltersForm.disabled),t.xp6(6),t.hij(" ",t.lcZ(46,48,"dashboard.price-filters.can-leave-country-label")," "),t.xp6(4),t.Oqu(t.lcZ(50,50,"dashboard.price-filters.price-period-subheader")),t.xp6(4),t.Q6J("ngForOf",i.discounts.controls),t.xp6(4),t.hij(" ",t.lcZ(58,52,"dashboard.price-filters.add-discount")," "),t.xp6(4),t.hij(" ",t.lcZ(62,54,"dashboard.price-filters.price-season-subheader")," "),t.xp6(6),t.Q6J("ngForOf",i.discountsArray),t.xp6(1),t.Q6J("ngForOf",i.seasonDiscounts.controls),t.xp6(3),t.Q6J("disabled",!i.isFormReadyForSubmit()),t.xp6(1),t.hij(" ",t.lcZ(73,56,"save-button")," "))},dependencies:[f.mk,f.sg,f.O5,Rt.t,p._Y,p.YN,p.Kr,p.Wl,p.EJ,p.JJ,p.JL,p.sg,p.u,p.x0,p.CE,V.X$],styles:["table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:10px;border:.5px solid rgb(65,65,65)}tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none;border-left:none}tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{border-right:none}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.form-blur[_ngcontent-%COMP%]{filter:blur(2px);pointer-events:none;opacity:.98}.month-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.month-label[_ngcontent-%COMP%]{margin-right:10px}.fixed-width[_ngcontent-%COMP%]{width:155px}"]}),n})();class yu{}function wu(n,a){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}const Cu=function(n){return{"card-blur":n}};function Mu(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",9)(3,"div",15)(4,"h6"),t._uU(5),t.qZA()(),t.TgZ(6,"div",16),t._UZ(7,"input",17),t.TgZ(8,"label",18),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div",19)(12,"div",9)(13,"div",16)(14,"label"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"app-text-input",20),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.depositAmountChanged(s,o))}),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",16)(20,"label"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"app-text-input",21),t.NdJ("change",function(o){const s=t.CHM(e).index,l=t.oxw();return t.KtG(l.insurancePriceChanged(s,o))}),t.ALo(24,"translate"),t.qZA()()()()()()}if(2&n){const e=a.$implicit,i=a.index,o=t.oxw();t.xp6(1),t.Q6J("formGroupName",i),t.xp6(4),t.hij(" ",o.translateInsuranceType(e.value.insuranceType.name)," "),t.xp6(4),t.hij(" ",t.lcZ(10,8,"dashboard.deposit-settings.active-option-label")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,Cu,!o.vehicleInsuranceDetails.controls[i].value.isActive)),t.xp6(4),t.Oqu(t.lcZ(16,10,"dashboard.deposit-settings.deposit-label")),t.xp6(2),t.Q6J("label",t.lcZ(18,12,"currency.ron")),t.xp6(4),t.Oqu(t.lcZ(22,14,"dashboard.deposit-settings.insurance-price-label")),t.xp6(2),t.Q6J("label",t.lcZ(24,16,"currency.ron"))}}const Tu=function(n){return{"form-blur":n}};let Nu=(()=>{class n{constructor(e,i,o,r){this.translate=e,this.dashboardService=i,this.accountService=o,this.toastr=r,this.isFormDisabled=!0,this.createDepositSettingsForm(),this.toastr.toastrConfig.positionClass="toast-bottom-right"}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{this.getVehicleDetailsForOwner(e.email)}),this.dashboardService.getInsuranceTypes().subscribe(e=>{this.insuranceTypes=e})}createDepositSettingsForm(){this.depositSettingsForm=new p.cw({vehicleInsuranceDetails:new p.Oe([])}),this.disableForm()}translateInsuranceType(e){switch(e){case"NoInsurance":return this.translate.instant("dashboard.deposit-settings.no-insurance-option");case"LimitedInsurance":return this.translate.instant("dashboard.deposit-settings.limited-insurance-option");case"FullInsurance":return this.translate.instant("dashboard.deposit-settings.full-insurance-option")}}createVehicleInsuranceDetailGroup(e){var i=[];return e.forEach(o=>{i.push(new p.cw({depositAmount:new p.NI(o.depositAmount),insurancePrice:new p.NI(o.insurancePrice),id:new p.NI(o.id),insuranceType:new p.NI(o.insuranceType),vehicleId:new p.NI(this.selectedVehicle.id),isActive:new p.NI(o.isActive)}))}),i}get vehicleInsuranceDetails(){return this.depositSettingsForm.get("vehicleInsuranceDetails")}disableForm(){this.depositSettingsForm.disable(),this.isFormDisabled=!0}enableForm(){this.depositSettingsForm.enable(),this.isFormDisabled=!1}isFormReadyForSubmit(){return this.depositSettingsForm.valid&&this.depositSettingsForm.dirty}onVehicleSelected(e,i){this.dashboardService.getVehicleById(e?e.target.value:i).subscribe(o=>{this.selectedVehicle=o,this.dashboardService.getVehicleInsuranceDetails(o.id).subscribe(r=>{this.vehicleInsuranceDetailsArray=r,this.populateFormValues()}),this.enableForm()})}populateFormValues(){const e=this.createVehicleInsuranceDetailGroup(this.vehicleInsuranceDetailsArray),i=new p.Oe(e);this.depositSettingsForm.setControl("vehicleInsuranceDetails",i)}depositAmountChanged(e,i){const o=parseFloat(i.target.value),r=this.vehicleInsuranceDetails.controls[e],s=r.get("depositAmount");null!==s.value&&s.setValue(o),r.patchValue({pricePerDay:o})}insurancePriceChanged(e,i){const o=parseFloat(i.target.value),r=this.vehicleInsuranceDetails.controls[e],s=r.get("insurancePrice");null!==s.value&&s.setValue(o),r.patchValue({pricePerDay:o})}getVehicleInsuranceDetailsUpdateModel(e){const i=new yu;return i.vehicleId=this.selectedVehicle.id,e.forEach(o=>{o.insuranceTypeId=o.insuranceType.id}),i.vehicleInsuranceDetails=e,i}onSubmit(){this.dashboardService.updateVehicleInsuranceDetails(this.getVehicleInsuranceDetailsUpdateModel(this.vehicleInsuranceDetails.value)).subscribe({next:()=>{this.disableForm(),this.onVehicleSelected(null,this.selectedVehicle.id),this.toastr.success(this.translate.instant("toastr.success.vehicle-edited")),this.depositSettingsForm.markAsPristine()},error:e=>{this.toastr.error(this.translate.instant("toastr.error.try-again-or-contact")),console.log(e)}})}getVehicleDetailsForOwner(e){this.dashboardService.getVehicleDetailsForOwner(e).subscribe(i=>{this.vehicleDetails=i.map(o=>({name:o.vehicleRegistrationNumber+" ("+o.vehicleBrand+" "+o.vehicleModel+")",value:o.id.toString()}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.sK),t.Y36(he),t.Y36(Me.B),t.Y36(It._W))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-deposit-settings"]],decls:27,vars:22,consts:[[1,"mb-3"],[1,"col-9","mb-4"],[1,"row","mt-4"],[1,"col-4"],[1,"form-select","mb-4",3,"change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup","ngClass","ngSubmit"],[1,"row","mt-3"],[1,"row"],["formArrayName","vehicleInsuranceDetails"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","mt-3","w-100",3,"disabled"],[3,"value"],[3,"formGroupName"],[1,"col-2"],[1,"col-3"],["formControlName","isActive","type","checkbox","id","is-Active","name","is-Active"],["for","is-Active",1,"ms-2"],[1,"card","px-3","py-2","mt-3","mb-4",3,"ngClass"],["formControlName","depositAmount","type","numeric",3,"label","change"],["formControlName","insurancePrice","type","numeric",3,"label","change"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"p",1),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",2)(7,"div",3)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"select",4),t.NdJ("change",function(r){return i.onVehicleSelected(r)}),t.TgZ(12,"option",5),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.YNc(15,wu,2,2,"option",6),t.qZA()()(),t.TgZ(16,"form",7),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(17,"div",8)(18,"div",9)(19,"div",10),t.YNc(20,Mu,25,20,"div",11),t.qZA()()(),t.TgZ(21,"div",8)(22,"div",3)(23,"button",12),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"ngx-toastr"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,10,"dashboard.sidebar.deposit-settings")),t.xp6(3),t.hij(" ",t.lcZ(5,12,"dashboard.deposit-settings.sub-header"),"\n"),t.xp6(5),t.Oqu(t.lcZ(10,14,"dashboard.my-cars.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(14,16,"dashboard.my-cars.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.vehicleDetails),t.xp6(1),t.Q6J("formGroup",i.depositSettingsForm)("ngClass",t.VKq(20,Tu,i.isFormDisabled)),t.xp6(4),t.Q6J("ngForOf",i.vehicleInsuranceDetails.controls),t.xp6(3),t.Q6J("disabled",!i.isFormReadyForSubmit()),t.xp6(1),t.hij(" ",t.lcZ(25,18,"save-button")," "))},dependencies:[f.mk,f.sg,Rt.t,p._Y,p.YN,p.Kr,p.Wl,p.JJ,p.JL,p.sg,p.u,p.x0,p.CE,V.X$],styles:[".form-blur[_ngcontent-%COMP%], .card-blur[_ngcontent-%COMP%]{filter:blur(2px);pointer-events:none;opacity:.98}"]}),n})();var ga=g(266);const Au=["input"];let ku=(()=>{class n{constructor(e){this.controlDir=e,this.isTooltipVisible=!1,this.controlDir.valueAccessor=this}ngOnInit(){const e=this.controlDir.control,o=e.asyncValidator?[e.asyncValidator]:[];e.setValidators(e.validator?[e.validator]:[]),e.setAsyncValidators(o),e.updateValueAndValidity()}onChange(e){}onTouched(){}writeValue(e){this.input.nativeElement.value=e||""}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}getErrorMessage(){if(this.controlDir&&this.controlDir.control&&this.controlDir.control.touched){const e=this.controlDir.control.errors;if(e){if(e.required)return`${this.label} is required!`;if(e.tooSoon)return e.tooSoon}}return null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.a5,2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-date-input"]],viewQuery:function(e,i){if(1&e&&t.Gf(Au,7),2&e){let o;t.iGM(o=t.CRH())&&(i.input=o.first)}},inputs:{label:"label",minDate:"minDate",maxDate:"maxDate"},decls:5,vars:7,consts:[["id","pickup-date","type","date","matTooltipPosition","below","matTooltipClass","error-tooltip",1,"form-control",3,"ngClass","min","matTooltip","input","blur"],["input",""]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"label"),t._uU(1),t.qZA(),t.TgZ(2,"input",0,1),t.NdJ("input",function(){t.CHM(o);const s=t.MAs(3);return t.KtG(i.onChange(s.value))})("blur",function(){return i.onTouched()}),t.ALo(4,"date"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(i.label),t.xp6(1),t.s9C("min",t.xi3(4,4,i.minDate,"yyyy-MM-dd")),t.Q6J("ngClass",i.controlDir&&i.controlDir.control&&i.controlDir.control.touched?i.controlDir.control.valid?"is-valid":"is-invalid":null)("matTooltip",i.getErrorMessage()))},dependencies:[f.mk,ga.gM,f.uU],styles:[".form-control.is-valid[_ngcontent-%COMP%]{background-image:none;padding-right:12px}"]}),n})();const Ou=["input"];let Su=(()=>{class n{constructor(e){this.controlDir=e,this.isTooltipVisible=!1,this.controlDir.valueAccessor=this}ngOnInit(){const e=this.controlDir.control,o=e.asyncValidator?[e.asyncValidator]:[];e.setValidators(e.validator?[e.validator]:[]),e.setAsyncValidators(o),e.updateValueAndValidity()}onChange(e){}onTouched(){}writeValue(e){this.input.nativeElement.value=e||""}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}getErrorMessage(){if(this.controlDir&&this.controlDir.control&&this.controlDir.control.touched){const e=this.controlDir.control.errors;if(e){if(e.required)return`${this.label} is required!`;if(e.tooSoon)return e.tooSoon}}return null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.a5,2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-time-input"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ou,7),2&e){let o;t.iGM(o=t.CRH())&&(i.input=o.first)}},inputs:{label:"label"},decls:4,vars:3,consts:[["id","time-picker","type","time","matTooltipPosition","below","matTooltipClass","error-tooltip",1,"form-control",3,"ngClass","matTooltip","input","blur"],["input",""]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"label"),t._uU(1),t.qZA(),t.TgZ(2,"input",0,1),t.NdJ("input",function(){t.CHM(o);const s=t.MAs(3);return t.KtG(i.onChange(s.value))})("blur",function(){return i.onTouched()}),t.qZA()}2&e&&(t.xp6(1),t.Oqu(i.label),t.xp6(1),t.Q6J("ngClass",i.controlDir&&i.controlDir.control&&i.controlDir.control.touched?i.controlDir.control.valid?"is-valid":"is-invalid":null)("matTooltip",i.getErrorMessage()))},dependencies:[f.mk,ga.gM],styles:[".form-control.is-valid[_ngcontent-%COMP%]{background-image:none;padding-right:12px}"]}),n})();function Iu(n,a){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function Ru(n,a){if(1&n&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}let Fu=(()=>{class n{constructor(e,i,o){this.translate=e,this.dashboardService=i,this.accountService=o,this.selectReasonValues=[],this.minStartDate=this.getCurrentDate(1),this.endDateValidator=r=>{if(!r||!this.unavailableCarsForm)return null;const s=this.unavailableCarsForm.get("endDate").value,l=new Date(r.value),d=new Date(s);return d.setDate(d.getDate()+1),l<=d?null:{tooSoon:this.translate.instant("shared.date-input.dropoff-must-be-after-pickup")}},this.startTimeValidator=r=>{if(!r||!this.unavailableCarsForm)return null;const s=this.unavailableCarsForm.get("startDate").value;if(s){const l=new Date,d=new Date(`${s}T${r.value}`);if(l.toDateString()===new Date(s).toDateString())return d>=new Date(l.getTime()+36e5)?null:{tooSoon:this.translate.instant("shared.time-input.pickup-time-must-be-one-hour-in-the-future")}}return null},this.createunavailableCarsForm(),this.selectReasonValues=[{name:"dashboard.unavailable-cars.reason-1",value:"Third-party rental"},{name:"dashboard.unavailable-cars.reason-2",value:"Repairs"},{name:"dashboard.unavailable-cars.reason-3",value:"Personal reasons"}]}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{this.getVehicleDetailsForOwner(e.email)})}createunavailableCarsForm(){this.unavailableCarsForm=new p.cw({startDate:new p.NI(null,[p.kI.required]),endDate:new p.NI(null,[p.kI.required,e=>this.endDateValidator(e)]),startTime:new p.NI(null,[p.kI.required,this.startTimeValidator]),endTime:new p.NI(null,p.kI.required),vehicleId:new p.NI("",[p.kI.required])}),this.unavailableCarsForm.get("startDate").valueChanges.subscribe(e=>{if(e){const i=new Date(e);i.setDate(i.getDate()+1),this.minStartDate=i,this.unavailableCarsForm.get("endDate").enable()}})}onSubmit(){}getVehicleDetailsForOwner(e){this.dashboardService.getVehicleDetailsForOwner(e).subscribe(i=>{this.vehicleDetails=i.map(o=>({name:o.vehicleRegistrationNumber+" ("+o.vehicleBrand+" "+o.vehicleModel+")",value:o.id.toString()}))})}getCurrentDate(e=0){const i=new Date;return i.setDate(i.getDate()+e),i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.sK),t.Y36(he),t.Y36(Me.B))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-unavailable-cars"]],decls:41,vars:35,consts:[[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-4"],["formControlName","vehicleId",1,"form-select","mb-4"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"card","p-4","col-lg-9","col-md-12","mb-4"],[1,"col-3"],["formControlName","startDate",3,"label","minDate"],["formControlName","startTime",3,"label"],["formControlName","endDate",3,"label","minDate"],["formControlName","endTime",3,"label"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(4,"div",2)(5,"div",3)(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"select",4)(10,"option",5),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,Iu,2,2,"option",6),t.qZA()()(),t.TgZ(14,"h5",0),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",7)(18,"div",2)(19,"div",8),t._UZ(20,"app-date-input",9),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div",8),t._UZ(23,"app-time-input",10),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",8),t._UZ(26,"app-date-input",11),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",8),t._UZ(29,"app-time-input",12),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",2)(32,"div",8)(33,"label"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"select",4)(37,"option",5),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.YNc(40,Ru,2,2,"option",6),t.qZA()()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,15,"dashboard.sidebar.unavailable-cars")),t.xp6(2),t.Q6J("formGroup",i.unavailableCarsForm),t.xp6(4),t.Oqu(t.lcZ(8,17,"dashboard.filter-bookings.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(12,19,"dashboard.filter-bookings.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.vehicleDetails),t.xp6(2),t.hij(" ",t.lcZ(16,21,"dashboard.unavailable-cars.select-dates")," "),t.xp6(5),t.Q6J("label",t.lcZ(21,23,"shared.date-input.from-placeholder"))("minDate",i.getCurrentDate()),t.xp6(3),t.Q6J("label",t.lcZ(24,25,"shared.time-input.start-placeholder")),t.xp6(3),t.Q6J("label",t.lcZ(27,27,"shared.date-input.to-placeholder"))("minDate",i.minStartDate),t.xp6(3),t.Q6J("label",t.lcZ(30,29,"shared.time-input.end-placeholder")),t.xp6(5),t.Oqu(t.lcZ(35,31,"dashboard.filter-bookings.pick-car")),t.xp6(4),t.hij(" ",t.lcZ(39,33,"dashboard.filter-bookings.vrn")," "),t.xp6(2),t.Q6J("ngForOf",i.selectReasonValues))},dependencies:[f.sg,p._Y,p.YN,p.Kr,p.EJ,p.JJ,p.JL,p.sg,p.u,ku,Su,V.X$]}),n})(),Eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-billings"]],decls:3,vars:3,consts:[[1,"mb-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.sidebar.billings")))},dependencies:[V.X$]}),n})();var ba=g(4128);const Pu=["input"],Bu=["dropdown"];function Lu(n,a){1&n&&t._UZ(0,"div",6)}let Vu=(()=>{class n{constructor(e,i){this.controlDir=e,this.dashboardService=i,this.isTooltipVisible=!1,this.vehicleLocations=[],this.controlDir.valueAccessor=this}ngOnInit(){const e=this.controlDir.control,o=e.asyncValidator?[e.asyncValidator]:[];e.setValidators(e.validator?[e.validator]:[]),e.setAsyncValidators(o),e.updateValueAndValidity(),this.getLocations()}getLocations(){this.dashboardService.getLocations().subscribe({next:e=>this.vehicleLocations=e,error:e=>console.log(e)})}onChange(e){}onTouched(){}writeValue(e){this.input.nativeElement.value=e||""}onDocumentClick(e){const i=e.target;!this.dropdown.nativeElement.contains(i)&&!this.input.nativeElement.contains(i)&&this.closeDropdown()}closeDropdown(){this.dropdown.nativeElement.style.display="none"}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}getErrorMessage(){if(this.controlDir&&this.controlDir.control&&this.controlDir.control.touched){const e=this.controlDir.control.errors;if(e&&e.required)return`${this.label} is required!`}return null}onInputChange(e){const i=e.value;if(i.length>=0){const o=this.vehicleLocations.filter(r=>-1!==r.name.toLowerCase().indexOf(i.toLowerCase()));o.length?(this.dropdown.nativeElement.innerHTML="",o.forEach(r=>{const s=document.createElement("a"),l=document.createElement("div");l.textContent=r.name;const d=document.createElement("div");d.textContent=r.address,s.addEventListener("click",()=>{this.onOptionSelected(r),this.dropdown.nativeElement.style.display="none"}),s.appendChild(l),s.appendChild(d),this.dropdown.nativeElement.appendChild(s)}),this.dropdown.nativeElement.style.display="block"):this.dropdown.nativeElement.style.display="none"}else this.dropdown.nativeElement.style.display="none"}onOptionSelected(e){this.input.nativeElement.value=e.name,this.dropdown.nativeElement.style.display="none",this.onChange({id:e.id,name:e.name})}onInputMouseEnter(){this.dropdown.nativeElement.style.display=this.input.nativeElement.value.length>0&&this.vehicleLocations.length>0&&this.controlDir.control.touched?"block":"none"}onInputMouseLeave(){this.dropdown.nativeElement.style.display="none"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.a5,2),t.Y36(he))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-location-input"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Pu,7),t.Gf(Bu,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.input=o.first),t.iGM(o=t.CRH())&&(i.dropdown=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("click",function(r){return i.onDocumentClick(r)},!1,t.evT)},inputs:{placeholder:"placeholder",label:"label"},decls:8,vars:3,consts:[[1,"form-label-group","dropdown",2,"width","100%"],["id","pickup-location","type","text","matTooltipPosition","below","matTooltipClass","error-tooltip","autocomplete","off",1,"form-control",3,"placeholder","input","blur","focus"],["input",""],["class","fa fa-spinner fa-spin loader",4,"ngIf"],["id","myDropdown",1,"dropdown-content"],["dropdown",""],[1,"fa","fa-spinner","fa-spin","loader"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"label"),t._uU(2),t.qZA(),t.TgZ(3,"input",1,2),t.NdJ("input",function(r){return i.onInputChange(r.target)})("blur",function(){return i.onTouched()})("focus",function(r){return i.onInputChange(r.target)}),t.qZA(),t.YNc(5,Lu,1,0,"div",3),t._UZ(6,"div",4,5),t.qZA()),2&e&&(t.xp6(2),t.Oqu(i.label),t.xp6(1),t.s9C("placeholder",i.placeholder),t.xp6(2),t.Q6J("ngIf","PENDING"==(null==i.controlDir||null==i.controlDir.control?null:i.controlDir.control.status)))},dependencies:[f.O5],styles:[".form-control.is-valid{background-image:none;padding-right:12px}.dropdown{position:relative;display:inline-block}.dropdown-content{display:none;position:absolute;z-index:1;background-color:#f1f1f1;min-width:200px;box-shadow:0 8px 16px #0003;padding:12px 16px;overflow-y:auto;max-height:200px}.dropdown-content a{display:block;color:#333;padding:8px 16px;text-decoration:none}.dropdown-content a:hover{background-color:#ddd}.dropdown:focus-within .dropdown-content{display:block}.dropdown-content{display:none}\n"],encapsulation:2}),n})();function Zu(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",13)(2,"div",3)(3,"div",11),t._UZ(4,"app-location-input",14),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",15)(8,"button",16),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeHeadquarterLocation(r))}),t._uU(9),t.ALo(10,"translate"),t.qZA()()()()()}if(2&n){const e=a.index;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Q6J("placeholder",t.lcZ(5,4,"shared.location-input.placeholder"))("label",t.lcZ(6,6,"shared.location-input.headquarter-label")),t.xp6(5),t.Oqu(t.lcZ(10,8,"dashboard.locations.delete-location"))}}function Yu(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",17)(2,"div",3)(3,"div",11),t._UZ(4,"app-location-input",14),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",18)(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"app-text-input",19),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"div",15)(14,"button",16),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeDeliveryLocation(r))}),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()()}if(2&n){const e=a.index;t.xp6(1),t.Q6J("formGroupName",e),t.xp6(3),t.Q6J("placeholder",t.lcZ(5,6,"shared.location-input.placeholder"))("label",t.lcZ(6,8,"shared.location-input.delivery-label")),t.xp6(5),t.Oqu(t.lcZ(10,10,"dashboard.locations.delivery-fee-label")),t.xp6(2),t.Q6J("label",t.lcZ(12,12,"currency.ron")),t.xp6(4),t.Oqu(t.lcZ(16,14,"dashboard.locations.delete-location"))}}let Gu=(()=>{class n{constructor(e,i,o,r){this.dashboardService=e,this.accountService=i,this.toastr=o,this.translate=r,this.createLocationsForm()}ngOnInit(){this.currentUser$=this.accountService.currentUser$,this.currentUser$.subscribe(e=>{this.getPickupDropoffLocationsForOwnerEmail(e.email)})}getPickupDropoffLocationsForOwnerEmail(e){this.dashboardService.getPickupDropoffLocationsForOwnerEmail(e).subscribe(i=>{const o=this.pairPickupDropoffLocations(i);this.headquarterLocationsArray=o.withDeliveryFeeNull,this.deliveryLocationsArray=o.withDeliveryFeeNotNull,this.populateFormValues()})}populateFormValues(){if(this.headquarterLocationsArray&&this.deliveryLocationsArray){const e=this.headquarterLocationsArray.map(o=>this.createHeadquartersGroupFromObject(o)),i=this.deliveryLocationsArray.map(o=>this.createDeliveriesGroupFromObject(o));(0,ba.D)(e).subscribe(o=>{const r=new p.Oe(o);this.locationsForm.setControl("headquarterLocations",r),(0,ba.D)(i).subscribe(s=>{const l=new p.Oe(s);this.locationsForm.setControl("deliveryLocations",l),console.log(this.locationsForm.value)})})}}getLocationNameById(e){this.dashboardService.getLocationNameById(e).subscribe(i=>i)}createLocationsForm(){this.locationsForm=new p.cw({headquarterLocations:new p.Oe([]),deliveryLocations:new p.Oe([])})}createHeadquartersGroupFromObject(e){return e&&e.locationId?this.dashboardService.getLocationNameById(e.locationId).pipe((0,re.U)(i=>new p.cw({location:new p.NI(i.locationName)}))):(0,$e.of)(new p.cw({location:new p.NI(null,p.kI.required)}))}createDeliveriesGroupFromObject(e){if(!e||!e.locationId)return(0,$e.of)(new p.cw({location:new p.NI(null,p.kI.required),deliveryFee:new p.NI(0,p.kI.required)}));const o=e.deliveryFee;return this.dashboardService.getLocationNameById(e.locationId).pipe((0,re.U)(r=>new p.cw({location:new p.NI(r.locationName),deliveryFee:new p.NI(o)})))}addDeliveryLocation(){this.createDeliveriesGroupFromObject().subscribe(e=>{this.deliveryLocations.push(e)}),this.locationsForm.markAsDirty(),this.deliveryLocationsArray=this.deliveryLocations.controls.map(e=>e.value)}addHeadquarterLocation(){this.createHeadquartersGroupFromObject().subscribe(e=>{this.headquarterLocations.push(e)}),this.locationsForm.markAsDirty(),this.headquarterLocationsArray=this.headquarterLocations.controls.map(e=>e.value)}removeHeadquarterLocation(e){this.headquarterLocations.removeAt(e),this.locationsForm.markAsDirty(),this.headquarterLocationsArray=this.headquarterLocations.controls.map(i=>i.value)}removeDeliveryLocation(e){this.deliveryLocations.removeAt(e),this.locationsForm.markAsDirty(),this.deliveryLocationsArray=this.deliveryLocations.controls.map(i=>i.value)}get headquarterLocations(){return this.locationsForm.get("headquarterLocations")}get deliveryLocations(){return this.locationsForm.get("deliveryLocations")}onSubmit(){console.log(this.locationsForm.value),console.log(this.deliveryLocationsArray)}pairPickupDropoffLocations(e){const i=[],o=[],r=[...e],s=new Set;for(;r.length>0;){const l=r.shift();if(s.has(l.locationId))continue;const d=r.filter(c=>c.locationId===l.locationId&&c.vehicleId===l.vehicleId&&c.isPickup!==l.isPickup);if(1===d.length){const c=d[0];r.splice(r.indexOf(c),1),s.add(l.locationId),null===l.deliveryFee&&null===c.deliveryFee?o.push({locationId:l.locationId}):null!==l.deliveryFee&&i.push({locationId:l.locationId,deliveryFee:l.deliveryFee})}else 0===d.length&&console.error(`No pair found for locationId ${l.locationId} and vehicleId ${l.vehicleId}`)}return{withDeliveryFeeNotNull:i,withDeliveryFeeNull:o}}isFormReadyForSubmit(){return this.locationsForm.valid&&this.locationsForm.dirty}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(he),t.Y36(Me.B),t.Y36(It._W),t.Y36(V.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-locations"]],decls:39,vars:28,consts:[[1,"mb-3"],[3,"formGroup","ngSubmit"],[1,"row","mt-4"],[1,"row"],["formArrayName","headquarterLocations"],[4,"ngFor","ngForOf"],[1,"row","mt-4","mb-5"],[1,"col-3"],["type","button",1,"btn","btn-success",3,"click"],["formArrayName","deliveryLocations"],[1,"row","mt-3"],[1,"col-4"],["type","submit",1,"btn","btn-success","mt-3","w-100",3,"disabled"],[1,"card","px-3","py-3","mt-3",3,"formGroupName"],["formControlName","location",3,"placeholder","label"],[1,"col-2",2,"margin-left","auto","display","flex","justify-content","center","align-items","center"],[1,"btn","btn-outline-danger",3,"click"],[1,"card","px-3","py-2","mt-3",3,"formGroupName"],[1,"col-2"],["formControlName","deliveryFee","type","numeric",3,"label"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(4,"div",2)(5,"h5"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",3)(12,"div",4),t.YNc(13,Zu,11,10,"div",5),t.qZA()(),t.TgZ(14,"div",6)(15,"div",7)(16,"button",8),t.NdJ("click",function(){return i.addHeadquarterLocation()}),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t.TgZ(19,"h5"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"p"),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",3)(26,"div",9),t.YNc(27,Yu,17,16,"div",5),t.qZA()(),t.TgZ(28,"div",2)(29,"div",7)(30,"button",8),t.NdJ("click",function(){return i.addDeliveryLocation()}),t._uU(31),t.ALo(32,"translate"),t.qZA()()()(),t.TgZ(33,"div",10)(34,"div",11)(35,"button",12),t._uU(36),t.ALo(37,"translate"),t.qZA(),t._UZ(38,"ngx-toastr"),t.qZA()()()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,12,"dashboard.sidebar.locations")),t.xp6(2),t.Q6J("formGroup",i.locationsForm),t.xp6(3),t.hij(" ",t.lcZ(7,14,"dashboard.locations.headquarter-locations-subheader")," "),t.xp6(3),t.hij(" ",t.lcZ(10,16,"dashboard.locations.headquarter-locations-information")," "),t.xp6(4),t.Q6J("ngForOf",i.headquarterLocations.controls),t.xp6(4),t.hij(" ",t.lcZ(18,18,"dashboard.locations.add-headquarter-location")," "),t.xp6(3),t.hij(" ",t.lcZ(21,20,"dashboard.locations.delivery-locations-subheader")," "),t.xp6(3),t.hij(" ",t.lcZ(24,22,"dashboard.locations.delivery-locations-information")," "),t.xp6(4),t.Q6J("ngForOf",i.deliveryLocations.controls),t.xp6(4),t.hij(" ",t.lcZ(32,24,"dashboard.locations.add-delivery-location")," "),t.xp6(4),t.Q6J("disabled",!i.isFormReadyForSubmit()),t.xp6(1),t.hij(" ",t.lcZ(37,26,"save-button")," "))},dependencies:[f.sg,Rt.t,p._Y,p.JJ,p.JL,p.sg,p.u,p.x0,p.CE,Vu,V.X$]}),n})(),Hu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-insurances"]],decls:3,vars:3,consts:[[1,"mb-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.sidebar.insurances")))},dependencies:[V.X$]}),n})(),ju=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settings"]],decls:3,vars:3,consts:[[1,"mb-3"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"dashboard.sidebar.settings")))},dependencies:[V.X$]}),n})(),va=(()=>{class n{canDeactivate(e){return!e.isFormReadyForSubmit()||!e.priceFiltersForm.dirty||confirm("Are you sure you want to close this form? Your changes will be lost.")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Uu=[{path:"",component:nu,children:[{path:"",redirectTo:"calendar",pathMatch:"full"},{path:"calendar",component:eu},{path:"car-inventory",component:su},{path:"price-filters",component:Du,canDeactivate:[va]},{path:"deposit-settings",component:Nu},{path:"unavailable-cars",component:Fu},{path:"billings",component:Eu},{path:"locations",component:Gu},{path:"insurances",component:Hu},{path:"settings",component:ju}]}];let qu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Se.Bz.forChild(Uu),Se.Bz]}),n})();var zu=g(9832);let $u=(()=>{class n{constructor(e){this.translateService=e;const i=localStorage.getItem("selectedLanguage");i&&(e.setDefaultLang(i),e.use(i))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(V.sK))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,V.aw.forChild({defaultLanguage:"ro",loader:{provide:V.Zw,useFactory:Ju,deps:[He.eN]},extend:!0}),V.aw]}),n})();function Ju(n){return new zu.w(n)}var xa=g(4466);let Qu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[va],imports:[f.ez,qu,$u,xa.m,Uc,T.XK,xa.m]}),n})()}}]);